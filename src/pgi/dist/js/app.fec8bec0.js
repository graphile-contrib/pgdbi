(function(e){function n(n){for(var a,r,s=n[0],o=n[1],c=n[2],d=0,u=[];d<s.length;d++)r=s[d],i[r]&&u.push(i[r][0]),i[r]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);m&&m(n);while(u.length)u.shift()();return l.push.apply(l,c||[]),t()}function t(){for(var e,n=0;n<l.length;n++){for(var t=l[n],a=!0,r=1;r<t.length;r++){var o=t[r];0!==i[o]&&(a=!1)}a&&(l.splice(n--,1),e=s(s.s=t[0]))}return e}var a={},i={app:0},l=[];function r(e){return s.p+"js/"+({about:"about"}[e]||e)+"."+{about:"251d4106"}[e]+".js"}function s(n){if(a[n])return a[n].exports;var t=a[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.e=function(e){var n=[],t=i[e];if(0!==t)if(t)n.push(t[2]);else{var a=new Promise(function(n,a){t=i[e]=[n,a]});n.push(t[2]=a);var l,o=document.createElement("script");o.charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.src=r(e),l=function(n){o.onerror=o.onload=null,clearTimeout(c);var t=i[e];if(0!==t){if(t){var a=n&&("load"===n.type?"missing":n.type),l=n&&n.target&&n.target.src,r=new Error("Loading chunk "+e+" failed.\n("+a+": "+l+")");r.type=a,r.request=l,t[1](r)}i[e]=void 0}};var c=setTimeout(function(){l({type:"timeout",target:o})},12e4);o.onerror=o.onload=l,document.head.appendChild(o)}return Promise.all(n)},s.m=e,s.c=a,s.d=function(e,n,t){s.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,n){if(1&n&&(e=s(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(s.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)s.d(t,a,function(n){return e[n]}.bind(null,a));return t},s.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(n,"a",n),n},s.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},s.p="/",s.oe=function(e){throw console.error(e),e};var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=n,o=o.slice();for(var d=0;d<o.length;d++)n(o[d]);var m=c;l.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"034f":function(e,n,t){"use strict";var a=t("1356"),i=t.n(a);i.a},1356:function(e,n,t){},"2a83":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allEnabledRoles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"roleName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"applicableRoles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"grantee"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roleName"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:131}};t.loc.source={body:"query {\n  allEnabledRoles {\n    nodes {\n      roleName\n      applicableRoles {\n        grantee\n        roleName\n      }\n    }\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function a(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(e){a(e,n)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){a(e,n)}),e.definitions&&e.definitions.forEach(function(e){a(e,n)})}var i={};(function(){t.definitions.forEach(function(e){if(e.name){var n=new Set;a(e,n),i[e.name.value]=n}})})(),e.exports=t},"3b18":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TableById"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tableById"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isTyped"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userDefinedTypeName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primaryKeyConstraints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"constraintName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"indices"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"columnName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"indexName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"policies"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schemaName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"policyName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cmd"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"withCheck"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"qual"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"triggers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"triggerCatalog"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"triggerSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"triggerName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"eventManipulation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"eventObjectCatalog"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"eventObjectSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"eventObjectTable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionOrder"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionCondition"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionStatement"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionOrientation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionTiming"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionReferenceOldTable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionReferenceNewTable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionReferenceOldRow"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionReferenceNewRow"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"triggerFunction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"functionName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"functionSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resultDataType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"argumentDataTypes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"definition"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"roleTableGrants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"grantor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"grantee"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"privilegeType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isGrantable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"withHierarchy"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"roleColumnGrants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"grantor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"grantee"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"privilegeType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isGrantable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"columnName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"checkConstraints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"constraintName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"constraintSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"checkClause"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableConstraints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"constraintType"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"uniqueConstraints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"constraintName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"constraintName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"constraintSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"keyColumnUsage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"columnName"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"referentialConstraints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"constraintName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"constraintSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"uniqueConstraintName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"uniqueConstraintSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"matchOption"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updateRule"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deleteRule"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referencingColumnUsage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"constraintName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"columnName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ordinalPosition"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"positionInUniqueConstraint"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"referencedColumnUsage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"constraintName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"columnName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ordinalPosition"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"positionInUniqueConstraint"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"tableColumns"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"columnName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dataType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isIdentity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ordinalPosition"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"columnDefault"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isNullable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"characterMaximumLength"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"characterOctetLength"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"numericScale"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"numericPrecision"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"numericPrecisionRadix"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"datetimePrecision"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"intervalType"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:2581}};t.loc.source={body:"query TableById(\n  $id: String!\n){\n  tableById(id: $id) {\n    id\n    tableName\n    tableSchema\n    isTyped\n    userDefinedTypeName\n    primaryKeyConstraints {\n      constraintName\n      tableName\n      tableSchema\n    }\n    indices {\n      tableName\n      tableSchema\n      columnName\n      indexName\n    }\n    policies {\n      tableName\n      schemaName\n      policyName\n      roles\n      cmd\n      withCheck\n      qual\n    }\n    triggers {\n      id\n      triggerCatalog\n      triggerSchema\n      triggerName\n      eventManipulation\n      eventObjectCatalog\n      eventObjectSchema\n      eventObjectTable\n      actionOrder\n      actionCondition\n      actionStatement\n      actionOrientation\n      actionTiming\n      actionReferenceOldTable\n      actionReferenceNewTable\n      actionReferenceOldRow\n      actionReferenceNewRow\n      created\n      triggerFunction {\n        id\n        functionName\n        functionSchema\n        resultDataType\n        argumentDataTypes\n        definition\n      }\n    }\n    roleTableGrants {\n      grantor\n      grantee\n      tableName\n      tableSchema\n      privilegeType\n      isGrantable\n      withHierarchy\n    }\n    roleColumnGrants {\n      grantor\n      grantee\n      tableName\n      tableSchema\n      privilegeType\n      isGrantable\n      columnName\n    }\n    checkConstraints {\n      constraintName\n      constraintSchema\n      checkClause\n      tableConstraints {\n        tableName\n        tableSchema\n        constraintType\n      }\n    }\n    uniqueConstraints {\n      constraintName\n      tableName\n      tableSchema\n      constraintName\n      constraintSchema\n      keyColumnUsage {\n        tableSchema\n        tableName\n        columnName\n      }\n    }\n    referentialConstraints {\n      constraintName\n      constraintSchema\n      uniqueConstraintName\n      uniqueConstraintSchema\n      matchOption\n      updateRule\n      deleteRule\n      referencingColumnUsage {\n        constraintName\n        tableSchema\n        tableName\n        columnName\n        ordinalPosition\n        positionInUniqueConstraint\n      }\n      referencedColumnUsage {\n        constraintName\n        tableSchema\n        tableName\n        columnName\n        ordinalPosition\n        positionInUniqueConstraint\n      }\n    }\n    tableColumns {\n      tableName\n      tableSchema\n      columnName\n      dataType\n      isIdentity\n      ordinalPosition\n      columnDefault\n      isNullable\n      characterMaximumLength\n      characterOctetLength\n      numericScale\n      numericPrecision\n      numericPrecisionRadix\n      datetimePrecision\n      intervalType\n    }\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function a(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(e){a(e,n)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){a(e,n)}),e.definitions&&e.definitions.forEach(function(e){a(e,n)})}var i={};function l(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}function r(e,n){var t={kind:e.kind,definitions:[l(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,r=new Set,s=new Set;a.forEach(function(e){s.add(e)});while(s.size>0){var o=s;s=new Set,o.forEach(function(e){if(!r.has(e)){r.add(e);var n=i[e]||new Set;n.forEach(function(e){s.add(e)})}})}return r.forEach(function(n){var a=l(e,n);a&&t.definitions.push(a)}),t}(function(){t.definitions.forEach(function(e){if(e.name){var n=new Set;a(e,n),i[e.name.value]=n}})})(),e.exports=t,e.exports["TableById"]=r(t,"TableById")},"52c4":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FunctionById"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"functionById"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"functionName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"functionSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resultDataType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"argumentDataTypes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"definition"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:165}};t.loc.source={body:"query FunctionById($id: String!) {\n  functionById(id: $id) {\n    id\n    functionName\n    functionSchema\n    resultDataType\n    argumentDataTypes\n    definition\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function a(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(e){a(e,n)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){a(e,n)}),e.definitions&&e.definitions.forEach(function(e){a(e,n)})}var i={};function l(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}function r(e,n){var t={kind:e.kind,definitions:[l(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,r=new Set,s=new Set;a.forEach(function(e){s.add(e)});while(s.size>0){var o=s;s=new Set,o.forEach(function(e){if(!r.has(e)){r.add(e);var n=i[e]||new Set;n.forEach(function(e){s.add(e)})}})}return r.forEach(function(n){var a=l(e,n);a&&t.definitions.push(a)}),t}(function(){t.definitions.forEach(function(e){if(e.name){var n=new Set;a(e,n),i[e.name.value]=n}})})(),e.exports=t,e.exports["FunctionById"]=r(t,"FunctionById")},"56d7":function(e,n,t){"use strict";t.r(n);t("cadf"),t("551c"),t("f751"),t("097d");var a=t("2b0e"),i=t("bb71");t("da64");a["a"].use(i["a"],{iconfont:"md"});var l=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-app",{attrs:{dark:""}},[t("v-navigation-drawer",{attrs:{persistent:"","mini-variant":e.miniVariant,clipped:e.clipped,"enable-resize-watcher":"",width:"400",app:""},model:{value:e.drawer,callback:function(n){e.drawer=n},expression:"drawer"}},[t("project-navigator")],1),t("v-toolbar",{attrs:{app:"","clipped-left":e.clipped}},[t("v-toolbar-side-icon",{on:{click:function(n){n.stopPropagation(),e.drawer=!e.drawer}}}),t("v-spacer"),t("div",{attrs:{selectable:""}},[t("v-toolbar-title",{attrs:{selectable:""},domProps:{textContent:e._s(e.title)},on:{click:e.home}})],1),t("v-spacer"),t("v-btn",{attrs:{icon:""},on:{click:function(n){n.stopPropagation(),e.rightDrawer=!e.rightDrawer}}},[t("v-icon",[e._v("menu")])],1)],1),t("v-content",[t("v-container",{attrs:{fluid:"","justify-start":""}},[t("router-view")],1)],1),t("v-navigation-drawer",{attrs:{persistent:"","mini-variant":e.miniVariant,clipped:e.clipped,right:e.right,"enable-resize-watcher":"",width:"400",app:""},model:{value:e.rightDrawer,callback:function(n){e.rightDrawer=n},expression:"rightDrawer"}}),t("v-footer",{attrs:{fixed:e.fixed,app:""}},[t("span",[e._v("Â© 2017")])])],1)},r=[],s=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-container",[t("v-toolbar",[t("v-btn",{on:{click:e.toggleFilter}},[e._v(e._s(e.filterButtonText))])],1),t("v-tabs",[t("v-tab",{key:"schemata"},[e._v("Schemata")]),t("v-tab-item",{key:"schemata"},[e.filterOn?e._e():t("schema-tree"),e.filterOn?t("schema-filter"):e._e()],1)],1)],1)},o=[],c=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-container",[t("v-treeview",{attrs:{items:e.items,activatable:"",transition:"",active:e.active},on:{"update:active":function(n){e.active=n}},model:{value:e.selected,callback:function(n){e.selected=n},expression:"selected"}})],1)},d=[],m=(t("28a5"),t("7f7f"),t("8473")),u=t.n(m),v={name:"SchemaTree",computed:{selectedSchemata:function(){return this.$store.state.schemaFilter}},data:function(){return{active:[],items:[],schemata:[],selected:[]}},methods:{computeItems:function(){var e=this,n=0===this.selectedSchemata.length||this.filterMode?this.schemata:this.schemata.filter(function(n){return e.selectedSchemata.indexOf(n.id)>-1});this.items=n.map(function(n){return{id:"schema:".concat(n.schemaName),name:n.schemaName,children:e.filterMode?[]:[{id:"tables:".concat(n.schemaName),name:"tables",children:n.schemaTables},{id:"functions:".concat(n.name),name:"functions",children:n.schemaFunctions}]}})}},watch:{selectedSchemata:function(){this.computeItems()},active:function(){var e=this.active[0]||"",n=e.split(":")[0];switch(n){case"table":this.$router.push({name:"table",params:{id:e}});break;case"tables":break;case"function":this.$router.push({name:"function",params:{id:e}});break;default:break}}},apollo:{init:{query:u.a,update:function(e){this.schemata=e.allSchemata.nodes,this.computeItems()}}}},p=v,f=t("2877"),h=t("6544"),k=t.n(h),b=t("a523"),g=t("eb2a"),N=Object(f["a"])(p,c,d,!1,null,null,null),y=N.exports;k()(N,{VContainer:b["a"],VTreeview:g["a"]});var S=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("v-treeview",{attrs:{items:e.items,transition:"",selectable:!0},model:{value:e.selected,callback:function(n){e.selected=n},expression:"selected"}})],1)},F=[],T={name:"SchemaFilter",computed:{},data:function(){return{items:[],schemata:[],selected:[],selectedSchemata:[]}},methods:{apply:function(){this.$store.commit("schemaFilter",{schemaFilter:this.selected})},computeItems:function(){var e=this.$store.state.schemaFilter||[],n=this.schemata;this.items=n.map(function(e){return{id:"schema:".concat(e.schemaName),name:e.schemaName,children:[]}}),this.selected=e}},watch:{selected:function(){this.apply()}},apollo:{init:{query:u.a,update:function(e){this.schemata=e.allSchemata.nodes,this.computeItems()}}}},_=T,C=Object(f["a"])(_,S,F,!1,null,null,null),x=C.exports;k()(C,{VTreeview:g["a"]});var R={name:"ProjectNavigator",components:{SchemaTree:y,SchemaFilter:x},data:function(){return{filterOn:!1}},computed:{filterButtonText:function(){return this.filterOn?"Apply":"Filter"}},methods:{toggleFilter:function(){this.filterOn=!this.filterOn}}},O=R,E=t("8336"),w=t("71a3"),V=t("c671"),P=t("fe57"),I=t("71d9"),D=Object(f["a"])(O,s,o,!1,null,null,null),q=D.exports;k()(D,{VBtn:E["a"],VContainer:b["a"],VTab:w["a"],VTabItem:V["a"],VTabs:P["a"],VToolbar:I["a"]});var L={name:"App",components:{ProjectNavigator:q},methods:{home:function(){this.$router.push({name:"home"})}},data:function(){return{clipped:!0,drawer:!0,fixed:!1,items:[],miniVariant:!1,right:!0,rightDrawer:!1,title:"pg-db-inspector"}}},A=L,j=(t("034f"),t("7496")),G=t("549c"),$=t("553a"),B=t("132d"),U=t("f774"),M=t("9910"),Q=t("706c"),Y=t("2a7f"),H=Object(f["a"])(A,l,r,!1,null,null,null),K=H.exports;k()(H,{VApp:j["a"],VBtn:E["a"],VContainer:b["a"],VContent:G["a"],VFooter:$["a"],VIcon:B["a"],VNavigationDrawer:U["a"],VSpacer:M["a"],VToolbar:I["a"],VToolbarSideIcon:Q["a"],VToolbarTitle:Y["a"]});var W,X,z=t("8c4f"),J=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-container",[t("v-tabs",{attrs:{dark:""},model:{value:e.activeTab,callback:function(n){e.activeTab=n},expression:"activeTab"}},[t("v-tab",{key:"roles",attrs:{ripple:""}},[e._v("\n      Roles\n    ")]),t("v-tab-item",{key:"roles"},[t("v-card",[t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs12:""}},[t("v-card",{key:"roles"},[t("role-filter")],1)],1)],1)],1)],1),t("v-tab",{key:"settings",attrs:{ripple:""}},[e._v("\n      Security Policy Settings\n    ")]),t("v-tab-item",{key:"securityPolicySettings"},[t("v-card",[t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs12:""}},[t("v-card",{key:"securityPolicySettings"},[t("security-policy-settings")],1)],1)],1)],1)],1),t("v-tab",{key:"policies",attrs:{ripple:""}},[e._v("\n      Security Policies\n    ")]),t("v-tab-item",{key:"policies"},[t("v-card",[t("security-policy")],1)],1)],1)],1)},Z=[],ee=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-container",e._l(e.roleFamilies,function(n){return t("div",{key:n.name},[t("v-toolbar",[t("h2",[e._v("Applicable Family")]),t("v-spacer"),t("h2",[e._v(e._s(n.name))]),t("v-spacer")],1),t("v-data-table",{staticClass:"text-sm-left",attrs:{headers:e.familyHeaders(n),items:n.dataRows,"hide-actions":"","item-key":"id"},scopedSlots:e._u([{key:"items",fn:function(a){return[t("tr",{on:{click:function(e){a.expanded=!a.expanded}}},[t("td"),t("td",{staticClass:"text-sm-left"},[e._v(e._s(a.item.roleName))]),e._l(n.allMemberNames,function(n){return t("td",{key:n,staticClass:"text-sm-left"},[e._v(e._s(a.item[n]))])})],2)]}}])}),t("hr")],1)}),0)},ne=[],te=t("cebc"),ae=t("bd86"),ie=t("5176"),le=t.n(ie),re=t("b6d0"),se=t.n(re),oe=(t("55dd"),t("7514"),t("2a83")),ce=t.n(oe),de={name:"RoleFilterFunctionsMixin",methods:{}},me=de,ue=Object(f["a"])(me,W,X,!1,null,null,null),ve=ue.exports,pe="---",fe="+++",he={name:"RoleFilter",mixins:[ve],computed:{roleFilter:function(){return this.$store.state.roleFilter},applyDisabled:function(){var e=this;if(this.roles.length>0){var n=this.roleFilter,t=n.reduce(function(n,t){var a=e.roles.find(function(e){return e.roleName===t});return n?a.selected:n},!0),a=this.roles.filter(function(e){return e.selected});return t&&a.length===n.length}return!0},selectedRoleFamilies:function(){return this.$store.state.selectedRoleFamilies}},watch:{},data:function(){return{roleFamilies:[],roles:[],checkedFamilies:[],checkedRoles:{}}},methods:{familyIsSelected:function(e){var n=e.members.reduce(function(e,n){return e?n.selected:e},!0);return n},roleIsSelected:function(e){var n=this.roles.find(function(n){return n.roleName===e}).selected;return n},familyCheckChanged:function(e){e.selected=!e.selected,e.members.map(function(n){n.selected=e.selected})},roleCheckChanged:function(e){e.selected=!e.selected;this.roleFamilies.filter(function(n){var t=n.members.find(function(n){return n.roleName===e.roleName});return void 0!==t})},familyHeaders:function(e){var n=e.allMemberNames.map(function(e){return{text:e,value:e,sortable:!1}}),t=[{name:"checkbox",sortable:!1},{text:"grantee",name:"grantee",sortable:!1}].concat(n);return t},apply:function(){var e=this.roles.reduce(function(e,n){return n.selected?e.concat([n.roleName]):e},[]);this.$store.commit("roleFilter",{roleFilter:e}),console.log("this.roleFamilies",this.roleFamilies),this.$store.commit("selectedRoleFamilies",{selectedRoleFamilies:this.roleFamilies.filter(function(e){return e.selected})})},computeItems:function(){var e=this;this.roles.map(function(n){n.selected=e.roleFilter.indexOf(n.roleName)>-1});var n=this.roles.sort(function(e,n){return e.applicableRoles.length>=n.applicableRoles.length?-1:1}).reduce(function(n,t){var a=n.find(function(e){return new se.a(e.allMemberNames).has(t.roleName)});if(a)return n;var i=t.applicableRoles.map(function(e){return e.roleName}).concat([t.roleName]).sort(function(n,t){var a=e.roles.find(function(e){return e.roleName===n}).applicableRoles.length,i=e.roles.find(function(e){return e.roleName===t}).applicableRoles.length;return a>=i?-1:1});return n.concat([{name:t.roleName,selected:e.selectedRoleFamilies.find(function(e){return e.name===t.roleName}),allMemberNames:i}])},[]);this.roleFamilies=n.reduce(function(n,t){var a=t.allMemberNames.reduce(function(n,a){var i=e.roles.find(function(e){return e.roleName===a}),l=t.allMemberNames.reduce(function(e,n){var t=i.applicableRoles.find(function(e){return e.roleName===n});return void 0!==t?le()(e,Object(ae["a"])({},n,fe)):i.roleName===n?le()(e,Object(ae["a"])({},n,n)):le()(e,Object(ae["a"])({},n,pe))},{});return n.concat([le()({roleName:a},l)])},[]),i=e.roles.filter(function(e){return t.allMemberNames.indexOf(e.roleName)>-1});return n.concat([le()(t,{dataRows:a,members:i})])},[])},familyItems:function(e){return e.items}},apollo:{init:{query:ce.a,update:function(e){this.roles=e.allEnabledRoles.nodes.map(function(e){return Object(te["a"])({},e,{selected:!1})}),this.computeItems()}}}},ke=he,be=t("8fea"),ge=Object(f["a"])(ke,ee,ne,!1,null,null,null),Ne=ge.exports;k()(ge,{VContainer:b["a"],VDataTable:be["a"],VSpacer:M["a"],VToolbar:I["a"]});var ye=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-container",[t("v-toolbar",[t("v-btn",{on:{click:e.resetState}},[e._v("Reset")]),t("v-btn",{on:{click:e.saveState}},[e._v("Save")])],1),t("hr"),t("v-card",[t("v-text-field",{attrs:{label:"App Tenant Field Name"},model:{value:e.appTenantFieldName,callback:function(n){e.appTenantFieldName=n},expression:"appTenantFieldName"}})],1),t("v-tabs",{attrs:{dark:"","slider-color":"yellow"}},[t("v-tab",{key:"default-policy-without-rls",attrs:{ripple:""}},[e._v("\n      Without Rls\n    ")]),t("v-tab-item",{key:"default-policy-without-rls"},[t("v-textarea",{attrs:{"auto-grow":"",spellcheck:"false","min-height":800},model:{value:e.policyTemplateNoRls,callback:function(n){e.policyTemplateNoRls=n},expression:"policyTemplateNoRls"}})],1),t("v-tab",{key:"default-policy-with-rls",attrs:{ripple:""}},[e._v("\n      With Rls\n    ")]),t("v-tab-item",{key:"default-policy-with-rls"},[t("v-textarea",{attrs:{"auto-grow":"",spellcheck:"false"},model:{value:e.policyTemplateRls,callback:function(n){e.policyTemplateRls=n},expression:"policyTemplateRls"}})],1)],1)],1)},Se=[],Fe={name:"SecurityPolicySettings",computed:{},methods:{saveState:function(){this.$store.commit("policyTemplateNoRls",{policyTemplateNoRls:this.policyTemplateNoRls}),this.$store.commit("policyTemplateRls",{policyTemplateRls:this.policyTemplateRls}),this.$store.commit("appTenantFieldName",{appTenantFieldName:this.appTenantFieldName})},resetState:function(){this.$store.commit("resetDefaultState"),this.loadState()},loadState:function(){this.policyTemplateNoRls=this.$store.state.policyTemplateNoRls,this.policyTemplateRls=this.$store.state.policyTemplateRls,this.appTenantFieldName=this.$store.state.appTenantFieldName}},data:function(){return{policyTemplateNoRls:"",policyTemplateRls:"",appTenantFieldName:""}},mounted:function(){this.loadState()}},Te=Fe,_e=t("b0af"),Ce=t("2677"),xe=t("a844"),Re=Object(f["a"])(Te,ye,Se,!1,null,null,null),Oe=Re.exports;k()(Re,{VBtn:E["a"],VCard:_e["a"],VContainer:b["a"],VTab:w["a"],VTabItem:V["a"],VTabs:P["a"],VTextField:Ce["a"],VTextarea:xe["a"],VToolbar:I["a"]});var Ee=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-container",[t("v-tabs",{attrs:{dark:"","slider-color":"yellow"}},[e._l(e.allPolicies,function(n){return t("v-tab",{key:n.name,attrs:{ripple:""}},[e._v("\n      "+e._s(n.name)+"\n    ")])}),e._l(e.allPolicies,function(e){return t("v-tab-item",{key:e.name},[t("v-textarea",{attrs:{value:e.policy,"auto-grow":"",spellcheck:"false"}})],1)})],2)],1)},we=[],Ve={name:"SecurityPolicy",components:{},props:{},computed:{schemaFilter:function(){return this.$store.state.schemaFilter},policyTemplateNoRls:function(){return this.$store.state.policyTemplateNoRls},policyTemplateRls:function(){return this.$store.state.policyTemplateRls},appTenantFieldName:function(){return this.$store.state.appTenantFieldName}},methods:{calcOnePolicy:function(e,n){return e.reduce(function(e,t){var a=n.split("{{schemaName}}").join(t.tableSchema).split("{{tableName}}").join(t.name);return e.concat(a)},"")},calculateAllPolicies:function(){var e=this;if(this.schemaTree){var n=this.schemaFilter.map(function(e){return e.split(":")[1]});this.allPolicies=n.reduce(function(n,t){var a=e.schemaTree.find(function(e){return e.schemaName===t}).schemaTables.filter(function(n){return void 0!==n.tableColumns.find(function(n){return n.columnName===e.appTenantFieldName})}),i={name:"".concat(t," - rls"),policy:e.calcOnePolicy(a,e.policyTemplateRls)},l=e.schemaTree.find(function(e){return e.schemaName===t}).schemaTables.filter(function(n){return void 0===n.tableColumns.find(function(n){return n.columnName===e.appTenantFieldName})}),r={name:"".concat(t," - no rls"),policy:e.calcOnePolicy(l,e.policyTemplateNoRls)};return n.concat([i,r])},[])}else this.allPolicies=[]}},watch:{schemaFilter:function(){this.$apollo.queries.init.refetch()}},data:function(){return{allPolicies:[],schemaPolicy:"NOT CALCULATED",defaultRlsPolicies:"NOT CALCULATED",defaultNoRlsPolicies:"NOT CALCULATED",selectedTabName:""}},apollo:{init:{query:function(){return u.a},fetchPolicy:"network-only",update:function(e){this.schemaTree=e.allSchemata.nodes,this.calculateAllPolicies()}}}},Pe=Ve,Ie=Object(f["a"])(Pe,Ee,we,!1,null,null,null),De=Ie.exports;k()(Ie,{VContainer:b["a"],VTab:w["a"],VTabItem:V["a"],VTabs:P["a"],VTextarea:xe["a"]});var qe={name:"Home",components:{RoleFilter:Ne,SecurityPolicySettings:Oe,SecurityPolicy:De},props:{},computed:{},data:function(){return{activeTab:null}},apollo:{}},Le=qe,Ae=t("0e8f"),je=t("a722"),Ge=Object(f["a"])(Le,J,Z,!1,null,null,null),$e=Ge.exports;k()(Ge,{VCard:_e["a"],VContainer:b["a"],VFlex:Ae["a"],VLayout:je["a"],VTab:w["a"],VTabItem:V["a"],VTabs:P["a"]});var Be=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-container",[t("h1",[e._v(e._s(e.tableSchema)+"."+e._s(e.tableName))]),t("h3",[e._v(e._s(e.id))]),t("hr"),t("v-tabs",{attrs:{dark:""},model:{value:e.activeTab,callback:function(n){e.activeTab=n},expression:"activeTab"}},[t("v-tab",{key:"cols",attrs:{ripple:""}},[e._v("\n      Columns\n    ")]),t("v-tab-item",{key:"cols"},[t("v-card",{attrs:{flat:""}},[t("table-columns",{attrs:{tableColumns:e.tableColumns}})],1)],1),t("v-tab",{key:"constraints",attrs:{ripple:""}},[e._v("\n      Constraints\n    ")]),t("v-tab-item",{key:"constraints"},[t("v-card",{attrs:{flat:""}},[t("table-constraints",{attrs:{tableInfo:e.tableInfo}})],1)],1),t("v-tab",{key:"indices",attrs:{ripple:""}},[e._v("\n      Indices\n    ")]),t("v-tab-item",{key:"indices"},[t("v-card",{attrs:{flat:""}},[t("table-indices",{attrs:{indices:e.indices}})],1)],1),t("v-tab",{key:"tablegrants",attrs:{ripple:""}},[e._v("\n      Table Grants\n    ")]),t("v-tab-item",{key:"tablegrants"},[t("v-card",{attrs:{flat:""}},[t("table-grants",{attrs:{grants:e.tableGrants}})],1)],1),t("v-tab",{key:"tablecolumngrants",attrs:{ripple:""}},[e._v("\n      Column Grants\n    ")]),t("v-tab-item",{key:"tablecolumngrants"},[t("v-card",{attrs:{flat:""}},[t("table-column-grants",{attrs:{grants:e.tableColumnGrants}})],1)],1),t("v-tab",{key:"tablepolicies",attrs:{ripple:""}},[e._v("\n      Policies\n    ")]),t("v-tab-item",{key:"tablepolicies"},[t("v-card",{attrs:{flat:""}},[t("table-policies",{attrs:{policies:e.tablePolicies}})],1)],1),t("v-tab",{key:"tabletriggers",attrs:{ripple:""}},[e._v("\n      Triggers\n    ")]),t("v-tab-item",{key:"tabletriggers"},[t("v-card",{attrs:{flat:""}},[t("table-triggers",{attrs:{triggers:e.tableTriggers}})],1)],1)],1)],1)},Ue=[],Me=t("3b18"),Qe=t.n(Me),Ye=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-container",[t("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.tableColumns,pagination:e.pagination,"hide-actions":!0},on:{"update:pagination":function(n){e.pagination=n}},scopedSlots:e._u([{key:"items",fn:function(n){return[t("td",[e._v(e._s(n.item.ordinalPosition))]),t("td",[e._v(e._s(n.item.columnName))]),t("td",{staticClass:"text-xs-right"},[e._v(e._s(n.item.dataType))]),t("td",{staticClass:"text-xs-right"},[e._v(e._s(n.item.isIdentity))]),t("td",{staticClass:"text-xs-right"},[e._v(e._s(n.item.isNullable))]),t("td",{staticClass:"text-xs-right"},[e._v(e._s(n.item.columnDefault))])]}}])})],1)},He=[],Ke={name:"TableColumns",props:{tableColumns:{type:Array,required:!0}},methods:{changeSort:function(e){this.pagination.sortBy===e?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=e,this.pagination.descending=!1)}},data:function(){return{headers:[{text:"Ordinal",align:"left",sortable:!0,value:"ordinalPosition"},{text:"Column Name",align:"left",sortable:!0,value:"columnName"},{text:"Data Type",align:"right",sortable:!0,value:"dataType"},{text:"Identity",align:"right",sortable:!0,value:"isIdentity"},{text:"Nullable",align:"right",sortable:!0,value:"isNullable"},{text:"Default Value",align:"right",sortable:!0,value:"columnDefault"}],pagination:{sortBy:"ordinalPosition",rowsPerPage:-1}}}},We=Ke,Xe=Object(f["a"])(We,Ye,He,!1,null,null,null),ze=Xe.exports;k()(Xe,{VContainer:b["a"],VDataTable:be["a"]});var Je=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-container",[t("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.indices,pagination:e.pagination,"hide-actions":!0},on:{"update:pagination":function(n){e.pagination=n}},scopedSlots:e._u([{key:"items",fn:function(n){return[t("td",[e._v(e._s(n.item.tableSchema))]),t("td",[e._v(e._s(n.item.tableName))]),t("td",[e._v(e._s(n.item.columnName))]),t("td",[e._v(e._s(n.item.indexName))])]}}])})],1)},Ze=[],en={name:"TableIndicies",props:{indices:{type:Array,required:!0}},methods:{changeSort:function(e){this.pagination.sortBy===e?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=e,this.pagination.descending=!1)}},data:function(){return{headers:[{text:"Schema",align:"left",sortable:!0,value:"tableSchema"},{text:"Table",align:"left",sortable:!0,value:"tableName"},{text:"Column",align:"left",sortable:!0,value:"columnName"},{text:"Index Name",align:"left",sortable:!0,value:"indexName"}],pagination:{sortBy:"constraintName",rowsPerPage:-1}}}},nn=en,tn=Object(f["a"])(nn,Je,Ze,!1,null,null,null),an=tn.exports;k()(tn,{VContainer:b["a"],VDataTable:be["a"]});var ln=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-container",[t("v-tabs",{attrs:{dark:""},model:{value:e.activeTab,callback:function(n){e.activeTab=n},expression:"activeTab"}},[t("v-tab",{key:"refcons",attrs:{ripple:""}},[e._v("\n        Referential Constraints\n      ")]),t("v-tab-item",{key:"refcons"},[t("v-card",{attrs:{flat:""}},[t("table-referential-constraints",{attrs:{referentialConstraints:e.referentialConstraints}})],1)],1),t("v-tab",{key:"chk",attrs:{ripple:""}},[e._v("\n        Check Constraints\n      ")]),t("v-tab-item",{key:"chk"},[t("v-card",{attrs:{flat:""}},[t("table-check-constraints",{attrs:{checkConstraints:e.checkConstraints}})],1)],1),t("v-tab",{key:"uq",attrs:{ripple:""}},[e._v("\n        Unique Constraints\n      ")]),t("v-tab-item",{key:"uq"},[t("v-card",{attrs:{flat:""}},[t("table-unique-constraints",{attrs:{uniqueConstraints:e.uniqueConstraints}})],1)],1)],1)],1)},rn=[],sn=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-container",[t("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.mappedConstraints,pagination:e.pagination,"hide-actions":!0,"item-key":"constraintName"},on:{"update:pagination":function(n){e.pagination=n}},scopedSlots:e._u([{key:"items",fn:function(n){return[t("tr",{on:{click:function(e){n.expanded=!n.expanded}}},[t("td",[e._v(e._s(n.item.constraintName)),t("hr"),e._v(e._s(n.item.source))]),t("td",[e._v(e._s(n.item.uniqueConstraintName)),t("hr"),e._v(e._s(n.item.target))]),t("td",[e._v(e._s(n.item.matchOption))]),t("td",[e._v(e._s(n.item.updateRule))]),t("td",[e._v(e._s(n.item.deleteRule))])])]}},{key:"expand",fn:function(n){return[t("v-card",{attrs:{flat:""}},[t("h2",[e._v("Source")]),t("table-key-column-usage",{attrs:{keyColumnUsage:n.item.referencingColumnUsage}})],1),t("v-card",{attrs:{flat:""}},[t("h2",[e._v("Target")]),t("table-key-column-usage",{attrs:{keyColumnUsage:n.item.referencedColumnUsage}})],1)]}}])})],1)},on=[],cn=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-container",[t("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.keyColumnUsage,"hide-actions":!0},scopedSlots:e._u([{key:"items",fn:function(n){return[t("td",[e._v(e._s(n.item.tableSchema))]),t("td",[e._v(e._s(n.item.tableName))]),t("td",[e._v(e._s(n.item.columnName))])]}}])})],1)},dn=[],mn={name:"TableKeyColumnUsage",props:{keyColumnUsage:{type:Array,required:!0}},methods:{},data:function(){return{headers:[{text:"Schema",align:"left",sortable:!1,value:"tableSchema"},{text:"Table",align:"left",sortable:!1,value:"tableName"},{text:"Column",align:"left",sortable:!1,value:"columnName"}]}}},un=mn,vn=Object(f["a"])(un,cn,dn,!1,null,null,null),pn=vn.exports;k()(vn,{VContainer:b["a"],VDataTable:be["a"]});var fn={name:"TableReferentialConstraints",components:{TableKeyColumnUsage:pn},props:{referentialConstraints:{type:Array,required:!0}},computed:{mappedConstraints:function(){return this.referentialConstraints.map(function(e){return Object(te["a"])({},e,{expanded:!1,source:"".concat(e.referencingColumnUsage[0].tableSchema,".").concat(e.referencingColumnUsage[0].tableName,".").concat(e.referencingColumnUsage[0].columnName),target:"".concat(e.referencedColumnUsage[0].tableSchema,".").concat(e.referencedColumnUsage[0].tableName,".").concat(e.referencedColumnUsage[0].columnName)})})}},methods:{changeSort:function(e){this.pagination.sortBy===e?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=e,this.pagination.descending=!1)}},data:function(){return{headers:[{text:"Source Constraint",align:"left",sortable:!0,value:"constraintName"},{text:"Target Constraint",align:"left",sortable:!0,value:"uniqueConstraintName"},{text:"On Match",align:"left",sortable:!0,value:"matchOption"},{text:"On Update",align:"left",sortable:!0,value:"updateRule"},{text:"On Delete",align:"left",sortable:!0,value:"deleteRule"}],pagination:{sortBy:"constraintName",rowsPerPage:-1}}}},hn=fn,kn=Object(f["a"])(hn,sn,on,!1,null,null,null),bn=kn.exports;k()(kn,{VCard:_e["a"],VContainer:b["a"],VDataTable:be["a"]});var gn=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-container",[t("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.mappedConstraints,pagination:e.pagination,"hide-actions":!0},on:{"update:pagination":function(n){e.pagination=n}},scopedSlots:e._u([{key:"items",fn:function(n){return[t("td",[e._v(e._s(n.item.constraintSchema))]),t("td",[e._v(e._s(n.item.tableName))]),t("td",[e._v(e._s(n.item.constraintName))]),t("td",[e._v(e._s(n.item.checkClause))])]}}])})],1)},Nn=[],yn={name:"TableCheckConstraints",props:{checkConstraints:{type:Array,required:!0}},computed:{mappedConstraints:function(){return this.checkConstraints.map(function(e){return Object(te["a"])({},e,{expanded:!1,tableName:e.tableConstraints[0].tableName})})}},methods:{changeSort:function(e){this.pagination.sortBy===e?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=e,this.pagination.descending=!1)}},data:function(){return{headers:[{text:"Schema",align:"left",sortable:!0,value:"constraintSchema"},{text:"Table",align:"left",sortable:!0,value:"tableName"},{text:"Name",align:"left",sortable:!0,value:"constraintName"},{text:"Check Clause",align:"left",sortable:!0,value:"checkClause"}],pagination:{sortBy:"constraintName",rowsPerPage:-1}}}},Sn=yn,Fn=Object(f["a"])(Sn,gn,Nn,!1,null,null,null),Tn=Fn.exports;k()(Fn,{VContainer:b["a"],VDataTable:be["a"]});var _n=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-container",[t("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.uniqueConstraints,pagination:e.pagination,"hide-actions":!0},on:{"update:pagination":function(n){e.pagination=n}},scopedSlots:e._u([{key:"items",fn:function(n){return[t("td",[e._v(e._s(n.item.constraintSchema))]),t("td",[e._v(e._s(n.item.constraintName))])]}}])})],1)},Cn=[],xn={name:"TableUniqueConstraints",props:{uniqueConstraints:{type:Array,required:!0}},methods:{changeSort:function(e){this.pagination.sortBy===e?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=e,this.pagination.descending=!1)}},data:function(){return{headers:[{text:"Schema",align:"left",sortable:!0,value:"constraintSchema"},{text:"Name",align:"left",sortable:!0,value:"constraintName"}],pagination:{sortBy:"constraintName",rowsPerPage:-1}}}},Rn=xn,On=Object(f["a"])(Rn,_n,Cn,!1,null,null,null),En=On.exports;k()(On,{VContainer:b["a"],VDataTable:be["a"]});var wn={name:"TableConstraints",components:{TableReferentialConstraints:bn,TableCheckConstraints:Tn,TableUniqueConstraints:En},props:{tableInfo:{type:Object,required:!0}},computed:{referentialConstraints:function(){return this.tableInfo.referentialConstraints||[]},checkConstraints:function(){return this.tableInfo.checkConstraints||[]},uniqueConstraints:function(){return this.tableInfo.uniqueConstraints||[]}},methods:{},data:function(){return{activeTab:null}}},Vn=wn,Pn=Object(f["a"])(Vn,ln,rn,!1,null,null,null),In=Pn.exports;k()(Pn,{VCard:_e["a"],VContainer:b["a"],VTab:w["a"],VTabItem:V["a"],VTabs:P["a"]});var Dn=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-container",[t("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.grants,pagination:e.pagination,"hide-actions":!0},on:{"update:pagination":function(n){e.pagination=n}},scopedSlots:e._u([{key:"items",fn:function(n){return[t("td",[e._v(e._s(n.item.grantee))]),t("td",[e._v(e._s(n.item.privilegeType))])]}}])})],1)},qn=[],Ln={name:"TableGrants",props:{grants:{type:Array,required:!0}},methods:{changeSort:function(e){this.pagination.sortBy===e?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=e,this.pagination.descending=!1)}},data:function(){return{headers:[{text:"Grantor",align:"left",sortable:!0,value:"grantor"},{text:"Privilege Type",align:"left",sortable:!0,value:"privilegeType"}],pagination:{sortBy:"constraintName",rowsPerPage:-1}}}},An=Ln,jn=Object(f["a"])(An,Dn,qn,!1,null,null,null),Gn=jn.exports;k()(jn,{VContainer:b["a"],VDataTable:be["a"]});var $n=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-container",[t("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.grants,pagination:e.pagination,"hide-actions":!0},on:{"update:pagination":function(n){e.pagination=n}},scopedSlots:e._u([{key:"items",fn:function(n){return[t("td",[e._v(e._s(n.item.tableSchema))]),t("td",[e._v(e._s(n.item.tableName))]),t("td",[e._v(e._s(n.item.columnName))]),t("td",[e._v(e._s(n.item.grantee))]),t("td",[e._v(e._s(n.item.grantor))]),t("td",[e._v(e._s(n.item.privilegeType))]),t("td",[e._v(e._s(n.item.isGrantable))])]}}])})],1)},Bn=[],Un={name:"TableGrants",props:{grants:{type:Array,required:!0}},methods:{changeSort:function(e){this.pagination.sortBy===e?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=e,this.pagination.descending=!1)}},data:function(){return{headers:[{text:"Schema",align:"left",sortable:!0,value:"tableSchema"},{text:"Table",align:"left",sortable:!0,value:"tableName"},{text:"Column",align:"left",sortable:!0,value:"columnName"},{text:"Grantee",align:"left",sortable:!0,value:"grantee"},{text:"Grantor",align:"left",sortable:!0,value:"grantor"},{text:"Privilege Type",align:"left",sortable:!0,value:"privilegeType"},{text:"Is Grantable",align:"left",sortable:!0,value:"isGrantable"}],pagination:{sortBy:"constraintName",rowsPerPage:-1}}}},Mn=Un,Qn=Object(f["a"])(Mn,$n,Bn,!1,null,null,null),Yn=Qn.exports;k()(Qn,{VContainer:b["a"],VDataTable:be["a"]});var Hn=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-container",[t("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.policies,pagination:e.pagination,"hide-actions":!0},on:{"update:pagination":function(n){e.pagination=n}},scopedSlots:e._u([{key:"items",fn:function(n){return[t("td",[e._v(e._s(n.item.policyName))]),t("td",[e._v(e._s(n.item.roles))]),t("td",[e._v(e._s(n.item.cmd))]),t("td",[e._v(e._s(n.item.qual))]),t("td",[e._v(e._s(n.item.withCheck))])]}}])})],1)},Kn=[],Wn={name:"TablePolicies",props:{policies:{type:Array,required:!0}},methods:{changeSort:function(e){this.pagination.sortBy===e?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=e,this.pagination.descending=!1)}},data:function(){return{headers:[{text:"Policy Name",align:"left",sortable:!0,value:"policyName"},{text:"Roles",align:"left",sortable:!0,value:"roles"},{text:"Cmd",align:"left",sortable:!0,value:"cmd"},{text:"Qual",align:"left",sortable:!0,value:"qual"},{text:"With Check",align:"left",sortable:!0,value:"withCheck"}],pagination:{sortBy:"constraintName",rowsPerPage:-1}}}},Xn=Wn,zn=Object(f["a"])(Xn,Hn,Kn,!1,null,null,null),Jn=zn.exports;k()(zn,{VContainer:b["a"],VDataTable:be["a"]});var Zn=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-container",[t("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.mappedTriggers,pagination:e.pagination,"hide-actions":!0,"item-key":"id"},on:{"update:pagination":function(n){e.pagination=n}},scopedSlots:e._u([{key:"items",fn:function(n){return[t("tr",{on:{click:function(e){n.expanded=!n.expanded}}},[t("td",[e._v(e._s(n.item.triggerName))]),t("td",[e._v(e._s(n.item.eventManipulation))]),t("td",[e._v(e._s(n.item.actionOrientation))]),t("td",[e._v(e._s(n.item.actionTiming))]),t("td",[e._v(e._s(n.item.actionStatement))])])]}},{key:"expand",fn:function(e){return[t("v-card",{attrs:{flat:""}},[t("v-textarea",{attrs:{readonly:"",outline:"",value:e.item.functionDefinition,"auto-grow":""}})],1)]}}])})],1)},et=[],nt={name:"TableTriggers",props:{triggers:{type:Array,required:!0}},computed:{mappedTriggers:function(){return this.triggers.map(function(e){return Object(te["a"])({},e,{expanded:!1,functionDefinition:e.triggerFunction?e.triggerFunction.definition:"N/A"})})}},methods:{changeSort:function(e){this.pagination.sortBy===e?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=e,this.pagination.descending=!1)}},data:function(){return{headers:[{text:"Name",align:"left",sortable:!0,value:"triggerName"},{text:"Trigger On",align:"left",sortable:!0,value:"eventManipulation"},{text:"Action Orientation",align:"left",sortable:!0,value:"actionOrientation"},{text:"Timing",align:"left",sortable:!0,value:"actionTiming"},{text:"Statement",align:"left",sortable:!0,value:"actionStatement"}],pagination:{sortBy:"triggerName",rowsPerPage:-1}}}},tt=nt,at=Object(f["a"])(tt,Zn,et,!1,null,null,null),it=at.exports;k()(at,{VCard:_e["a"],VContainer:b["a"],VDataTable:be["a"],VTextarea:xe["a"]});var lt={name:"Table",components:{TableColumns:ze,TableConstraints:In,TableIndices:an,TableGrants:Gn,TableColumnGrants:Yn,TablePolicies:Jn,TableTriggers:it},props:{id:{type:String,required:!0}},computed:{tableName:function(){return this.tableInfo.tableName||"N/A"},tableSchema:function(){return(this.tableInfo.id||"N/A:N/A.N/A").split(":")[1].split(".")[0]},tableColumns:function(){return this.tableInfo.tableColumns||[]},indices:function(){return this.tableInfo.indices||[]},tableGrants:function(){return this.tableInfo.roleTableGrants||[]},tableColumnGrants:function(){return this.tableInfo.roleColumnGrants||[]},tablePolicies:function(){return this.tableInfo.policies||[]},tableTriggers:function(){return this.tableInfo.triggers||[]}},methods:{},data:function(){return{activeTab:null,tableInfo:{}}},apollo:{init:{query:Qe.a,variables:function(){return{id:this.id}},update:function(e){this.tableInfo=e.tableById}}}},rt=lt,st=Object(f["a"])(rt,Be,Ue,!1,null,null,null),ot=st.exports;k()(st,{VCard:_e["a"],VContainer:b["a"],VTab:w["a"],VTabItem:V["a"],VTabs:P["a"]});var ct=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-container",[e._v("\n  FUNCTION DETAIL - "+e._s(e.id)+"\n  "),t("v-textarea",{attrs:{readonly:"",outline:"",value:e.definition,"auto-grow":""}})],1)},dt=[],mt=t("52c4"),ut=t.n(mt),vt={name:"Function",props:{id:{type:String,required:!0}},computed:{definition:function(){return this.fn.definition}},data:function(){return{fn:{}}},apollo:{init:{query:ut.a,variables:function(){return{id:this.id}},update:function(e){this.fn=e.functionById}}}},pt=vt,ft=Object(f["a"])(pt,ct,dt,!1,null,null,null),ht=ft.exports;k()(ft,{VContainer:b["a"],VTextarea:xe["a"]});var kt=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-container",[e._v("\n  SECURITY\n  "),t("v-tabs",{attrs:{dark:"","slider-color":"yellow"}},[t("v-tab",{key:"rendered",attrs:{ripple:""}},[e._v("\n      Rendered\n    ")]),t("v-tab-item",{key:"rendered"},[t("v-data-table",{attrs:{headers:e.headers,items:e.items,"hide-actions":"","item-key":"id"},scopedSlots:e._u([{key:"items",fn:function(n){return[t("tr",{on:{click:function(e){n.expanded=!n.expanded}}},[t("td",{key:"schemaName"},[e._v(e._s(n.item.schemaName))]),t("td",{key:"tableName"},[e._v(e._s(n.item.tableName))]),t("td",{key:"policyCount"},[e._v("\n                "+e._s(n.item.policyCount)+"\n                "),t("v-icon",{attrs:{small:"",color:n.item.policyColor}},[e._v("fiber_manual_record")])],1),t("td",{key:"roleTableGrantCount"},[e._v(e._s(n.item.roleTableGrantCount))])])]}},{key:"expand",fn:function(n){return[t("v-tabs",{attrs:{dark:"","slider-color":"yellow"}},[t("v-tab",{key:"rls-policies",attrs:{ripple:""}},[e._v("\n              Rls Policies\n            ")]),t("v-tab-item",{key:"rls-policies"},[t("v-card",{attrs:{color:"blue"}},[t("v-container",[t("table-policies",{attrs:{policies:n.item.policies}})],1)],1)],1),t("v-tab",{key:"table-grants",attrs:{ripple:""}},[e._v("\n              Table Grants\n            ")]),t("v-tab-item",{key:"table-grants"},[t("v-card",{attrs:{color:"blue"}},[t("v-container",[t("table-grants",{attrs:{grants:n.item.roleTableGrants}})],1)],1)],1)],1)]}}])})],1)],1)],1)},bt=[],gt=t("ef09"),Nt=t.n(gt),yt=t("be48"),St=t.n(yt),Ft={name:"SecurityReview",components:{TablePolicies:Jn,TableGrants:Gn,SecurityPolicy:De},props:{},computed:{selectedAppRoles:function(){return this.$store.state.roleFilter},tableItem:function(){return(this.securityTree.find(function(e){return"org"===e.schemaName})||{schemaTables:[]}).schemaTables.find(function(e){return"organization"===e.tableName})||{tableName:"nada"}},definition:function(){return this.fn.definition},schemaFilter:function(){return this.$store.state.schemaFilter},items:function(){return this.securityTree.reduce(function(e,n){var t=n.schemaTables.map(function(e){return{id:e.id,schemaName:e.tableSchema,tableName:e.tableName,policyCount:e.policies.length,policyColor:e.policies.length>0?"green":"red",policyText:0===e.policies.length?"no policies":e.policies.reduce(function(e,n){return e.concat("".concat(n.cmd," - ").concat(n.cmd," - ").concat(n.qual))},""),policies:e.policies,roleTableGrants:e.roleTableGrants,roleTableGrantCount:e.roleTableGrants.length}});return e.concat(t)},[])}},methods:{calculatePolicy:function(){var e=this;console.log("calc",this.securityTree),this.policy=this.securityTree.reduce(function(n,t){return n.concat(e.generatePolicy(t.schemaName,"lf_inventory_item","soro_user","soro_super_admin","seller_id"))},"")},generatePolicy:function(e,n,t,a,i){return"\n      \n--  remove all security for ".concat(e,"\n")}},data:function(){return{securityTree:[],policyHeaders:[{text:"roles",value:"roles"},{text:"cmd",value:"cmd"},{text:"qualifier",value:"qual"}],headers:[{text:"schema name",value:"schemaName"},{text:"table name",value:"tableName"},{text:"policy",value:"policyCount"},{text:"table grant",value:"roleTableGrantCount"}],policy:"NOT CALCULATED"}},apollo:{init:{query:function(){return this.schemaFilter.length>0?St.a:Nt.a},variables:function(){return this.schemaFilter.length>0?{filter:this.schemaFilter.map(function(e){return e.split(":")[1]})}:{}},update:function(e){this.securityTree=e.allSchemata.nodes,console.log("wtf",this.securityTree),this.calculatePolicy()}}}},Tt=Ft,_t=Object(f["a"])(Tt,kt,bt,!1,null,null,null),Ct=_t.exports;k()(_t,{VCard:_e["a"],VContainer:b["a"],VDataTable:be["a"],VIcon:B["a"],VTab:w["a"],VTabItem:V["a"],VTabs:P["a"]});var xt=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-container",[t("v-tabs",{attrs:{dark:""},model:{value:e.activeTab,callback:function(n){e.activeTab=n},expression:"activeTab"}},[t("v-tab",{key:"roles",attrs:{ripple:""}},[e._v("\n      Roles\n    ")]),t("v-tab-item",{key:"roles"},[t("v-card",[t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs12:""}},[t("v-card",{key:"roles"},[t("role-filter")],1)],1)],1)],1)],1),t("v-tab",{key:"schemata",attrs:{ripple:""}},[e._v("\n      Schemata\n    ")]),t("v-tab-item",{key:"schemata"},[t("v-card",[t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs4:""}},[t("v-card",{key:"schemata"},[e._v("\n              Schemata\n              "),t("schema-filter")],1)],1)],1)],1)],1),t("v-tab",{key:"policies",attrs:{ripple:""}},[e._v("\n      Policy Definitions\n    ")]),t("v-tab-item",{key:"policies"},[t("v-card",[t("policy-manager")],1)],1)],1)],1)},Rt=[],Ot=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",e._l(e.families,function(n){return t("family-policy-definition",{key:n.name,attrs:{family:n,policy:e.defaultPolicySet}})}),1)},Et=[],wt=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("h1",[e._v("Policy Name: "+e._s(e.policy.name))]),t("h2",[e._v("Family Name: "+e._s(e.family.name))]),t("v-layout",{attrs:{"justify-center":""}},[t("v-checkbox",{attrs:{label:"Enable Rls"},model:{value:e.enableRls,callback:function(n){e.enableRls=n},expression:"enableRls"}})],1),t("v-data-table",{staticClass:"text-sm-left",attrs:{headers:e.headers,items:e.items,"hide-actions":"","item-key":"id"},scopedSlots:e._u([{key:"items",fn:function(n){return[t("tr",{on:{click:function(e){n.expanded=!n.expanded}}},[t("td",[e._v(e._s(n.item.roleName))]),t("td",[t("v-checkbox",{attrs:{"input-value":n.item.select}})],1),t("td",[t("v-checkbox",{attrs:{"input-value":n.item.insert}})],1),t("td",[t("v-checkbox",{attrs:{"input-value":n.item.update}})],1),t("td",[t("v-checkbox",{attrs:{"input-value":n.item.delete}})],1),t("td",[e._v(e._s(n.item.qual))])])]}}])})],1)},Vt=[],Pt={name:"PolicyManager",props:{family:{type:Object,required:!0},policy:{type:Object,required:!0}},data:function(){return{enableRls:!0}},watch:{enableRls:function(){console.log("this.enableRls",this.enableRls)}},computed:{defaultRlsQual:function(){return this.$store.state.defaultRlsQual},headers:function(){var e=[{text:"Role Name",sortable:!1},{text:"SELECT",sortable:!1},{text:"INSERT",sortable:!1},{text:"UPDATE",sortable:!1},{text:"DELETE",sortable:!1}];return this.enableRls?e.concat([{text:"Rls Qualifier",sortable:!1}]):e},items:function(){var e=this;return this.family.members.map(function(n){var t={roleName:n.roleName,select:!0,insert:!1,update:!1,delete:!1};return e.enableRls?le()(t,{qual:e.defaultRlsQual}):t})}}},It=Pt,Dt=t("ac7c"),qt=Object(f["a"])(It,wt,Vt,!1,null,null,null),Lt=qt.exports;k()(qt,{VCheckbox:Dt["a"],VDataTable:be["a"],VLayout:je["a"]});var At={name:"PolicyManager",components:{FamilyPolicyDefinition:Lt},computed:{familyPolicySets:function(){return this.$store.state.familyPolicySets},defaultPolicySet:function(){return this.familyPolicySets.find(function(e){return"Default"===e.name})||{name:"Default"}},families:function(){return console.log("heyo",this.$store.state.selectedRoleFamilies),this.$store.state.selectedRoleFamilies}},data:function(){return{}}},jt=At,Gt=Object(f["a"])(jt,Ot,Et,!1,null,null,null),$t=Gt.exports,Bt={name:"Settings",components:{RoleFilter:Ne,SchemaFilter:x,PolicyManager:$t},props:{},computed:{},data:function(){return{activeTab:null}},apollo:{}},Ut=Bt,Mt=Object(f["a"])(Ut,xt,Rt,!1,null,null,null),Qt=Mt.exports;k()(Mt,{VCard:_e["a"],VContainer:b["a"],VFlex:Ae["a"],VLayout:je["a"],VTab:w["a"],VTabItem:V["a"],VTabs:P["a"]}),a["a"].use(z["a"]);var Yt=new z["a"]({routes:[{path:"/",name:"home",component:$e},{path:"/security",name:"security",component:De},{path:"/security-review",name:"security-review",component:Ct},{path:"/settings",name:"settings",component:Qt},{path:"/table/:id",name:"table",component:ot,props:!0},{path:"/function/:id",name:"function",component:ht,props:!0},{path:"/about",name:"about",component:function(){return t.e("about").then(t.bind(null,"f820"))}}]}),Ht=t("2f62"),Kt=t("0e44");a["a"].use(Ht["a"]);var Wt={schemaFilter:[],roleFilter:[],selectedRoleFamilies:[],familyPolicySets:[],appTenantFieldName:"app_tenant_id",defaultRLSQual:"(auth_fn.app_user_has_access(app_tenant_id) = true)",policyTemplateNoRls:"\n  --=================== {{schemaName}}.{{tableName}}  ===================\n  \n    --  REMOVE ALL SECURITY\n    REVOKE ALL PRIVILEGES ON {{schemaName}}.{{tableName}} FROM PUBLIC;\n    ALTER TABLE {{schemaName}}.{{tableName}} DISABLE ROW LEVEL SECURITY;\n    DROP POLICY IF EXISTS all_{{tableName}}_app_user ON {{schemaName}}.{{tableName}};\n    DROP POLICY IF EXISTS all_{{tableName}}_app_super_admin ON {{schemaName}}.{{tableName}};\n    --||--\n  \n    ----------------  GRANTS ----------------\n    GRANT select, update, delete ON TABLE {{schemaName}}.{{tableName}} TO app_user;\n  \n  --=================== {{schemaName}}.{{tableName}}  ===================\n  ",policyTemplateRls:"\n  --=================== {{schemaName}}.{{tableName}}  ===================\n  \n    --  REMOVE ALL SECURITY\n    REVOKE ALL PRIVILEGES ON {{schemaName}}.{{tableName}} FROM PUBLIC;\n    ALTER TABLE {{schemaName}}.{{tableName}} DISABLE ROW LEVEL SECURITY;\n    DROP POLICY IF EXISTS all_{{tableName}}_app_user ON {{schemaName}}.{{tableName}};\n    DROP POLICY IF EXISTS all_{{tableName}}_app_super_admin ON {{schemaName}}.{{tableName}};\n    --||--\n  \n    ----------------  GRANTS ----------------\n    GRANT select, update, delete ON TABLE {{schemaName}}.{{tableName}} TO app_user;\n  \n    ----------------  ENABLE ROW LEVEL SECURITY ----------------\n    ALTER TABLE {{schemaName}}.{{tableName}} ENABLE ROW LEVEL SECURITY;\n  \n    ----------------  USER POLICY ----------------\n    CREATE POLICY all_{{tableName}}_app_user ON {{schemaName}}.{{tableName}} FOR SELECT to app_user\n    USING (app_tenant_id = soro.viewer_company_id());\n  \n    ----------------  SUPER ADMIN POLICY ----------------\n    CREATE POLICY all_{{tableName}}_app_super_admin ON {{schemaName}}.{{tableName}} FOR SELECT to app_super_admin\n    USING (1 = 1);\n  \n    ----------------  MAKE SURE THE TENANT ID FIELD IS INDEXED ----------------\n    CREATE INDEX IF NOT EXISTS idx_{{tableName}}_app_tenant_id ON {{schemaName}}.{{tableName}}(app_tenant_id);\n  \n    --=================== {{schemaName}}.{{tableName}}  ===================\n  "},Xt=new Ht["a"].Store({plugins:[Object(Kt["a"])()],state:{schemaFilter:Wt.schemaFilter,roleFilter:Wt.roleFilter,selectedRoleFamilies:Wt.selectedRoleFamilies,familyPolicySets:Wt.familyPolicySets,appTenantFieldName:Wt.appTenantFieldName,defaultRLSQual:Wt.defaultRLSQual,policyTemplateNoRls:Wt.policyTemplateNoRls,policyTemplateRls:Wt.policyTemplateRls},mutations:{resetDefaultState:function(e){e.appTenantFieldName=Wt.appTenantFieldName,e.defaultRLSQual=Wt.defaultRLSQual,e.policyTemplateNoRls=Wt.policyTemplateNoRls,e.policyTemplateRls=Wt.policyTemplateRls},schemaFilter:function(e,n){e.schemaFilter=n.schemaFilter},roleFilter:function(e,n){e.roleFilter=n.roleFilter},selectedRoleFamilies:function(e,n){e.selectedRoleFamilies=n.selectedRoleFamilies},familyPolicySets:function(e,n){e.familyPolicySets=n.familyPolicySets},defaultRLSQual:function(e,n){e.defaultRLSQual=n.defaultRLSQual},policyTemplateNoRls:function(e,n){e.policyTemplateNoRls=n.policyTemplateNoRls},policyTemplateRls:function(e,n){e.policyTemplateRls=n.policyTemplateRls},appTenantFieldName:function(e,n){e.appTenantFieldName=n.appTenantFieldName}},actions:{}}),zt=(t("96cf"),t("3b8d"),t("522d")),Jt=t("efe7");a["a"].use(zt["a"]);var Zt="apollo-token",ea=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_GRAPHQL_HTTP||"http://localhost:6900/graphql",na={httpEndpoint:ea,tokenName:Zt,persisting:!1,websocketsOnly:!1,ssr:!1};function ta(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object(Jt["createApolloClient"])(Object(te["a"])({},na,e)),t=n.apolloClient,a=new zt["a"]({defaultClient:t,defaultOptions:{$query:{}},errorHandler:function(e){console.log("%cError","background: red; color: white; padding: 2px 4px; border-radius: 3px; font-weight: bold;",e.message)}});return a}a["a"].config.productionTip=!1,new a["a"]({router:Yt,store:Xt,apolloProvider:ta(),render:function(e){return e(K)}}).$mount("#app")},8473:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allSchemata"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schemaName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schemaTables"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"name"},name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableColumns"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"columnName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dataType"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"schemaFunctions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"name"},name:{kind:"Name",value:"functionName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"functionSchema"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:629}};t.loc.source={body:'query {\n  allSchemata\n  # (\n    # filter: {\n    #   schemaName: {\n    #     notIn: [\n    #       "pg_toast",\n    #       "pg_temp_1",\n    #       "pg_toast_temp_1",\n    #       "pg_catalog",\n    #       "information_schema",\n    #       "public"\n    #     ]\n    #   }\n    # }\n  # ) \n  {\n    nodes {\n      id\n      schemaName\n      schemaTables {\n        id\n        name: tableName\n        tableSchema\n        tableColumns {\n          tableName\n          tableSchema\n          columnName\n          dataType\n        }\n      }\n      schemaFunctions {\n        id\n        name: functionName\n        functionSchema\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};function a(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(e){a(e,n)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){a(e,n)}),e.definitions&&e.definitions.forEach(function(e){a(e,n)})}var i={};(function(){t.definitions.forEach(function(e){if(e.name){var n=new Set;a(e,n),i[e.name.value]=n}})})(),e.exports=t},be48:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetDbSecurityTreeFiltered"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"filter"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SqlIdentifier"}}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allSchemata"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"schemaName"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"in"},value:{kind:"Variable",name:{kind:"Name",value:"filter"}}}]}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schemaName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schemaTables"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"policies"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schemaName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"policyName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cmd"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"withCheck"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"qual"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"roleTableGrants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"grantor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"grantee"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"privilegeType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isGrantable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"withHierarchy"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"roleColumnGrants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"grantor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"grantee"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"privilegeType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isGrantable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"columnName"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"schemaFunctions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"name"},name:{kind:"Name",value:"functionName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"functionSchema"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:880}};t.loc.source={body:"query GetDbSecurityTreeFiltered(\n  $filter: [SqlIdentifier!]!\n){\n  allSchemata(filter: {\n    schemaName: {\n      in: $filter\n    }\n  }) {\n    nodes {\n      id\n      schemaName\n      schemaTables {\n        id\n        tableName\n        tableSchema\n        policies {\n          tableName\n          schemaName\n          policyName\n          roles\n          cmd\n          withCheck\n          qual\n        }\n        roleTableGrants {\n          grantor\n          grantee\n          tableName\n          tableSchema\n          privilegeType\n          isGrantable\n          withHierarchy\n        }\n        roleColumnGrants {\n          grantor\n          grantee\n          tableName\n          tableSchema\n          privilegeType\n          isGrantable\n          columnName\n        }\n      }\n      schemaFunctions {\n        id\n        name: functionName\n        functionSchema\n      }\n    }\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function a(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(e){a(e,n)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){a(e,n)}),e.definitions&&e.definitions.forEach(function(e){a(e,n)})}var i={};function l(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}function r(e,n){var t={kind:e.kind,definitions:[l(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,r=new Set,s=new Set;a.forEach(function(e){s.add(e)});while(s.size>0){var o=s;s=new Set,o.forEach(function(e){if(!r.has(e)){r.add(e);var n=i[e]||new Set;n.forEach(function(e){s.add(e)})}})}return r.forEach(function(n){var a=l(e,n);a&&t.definitions.push(a)}),t}(function(){t.definitions.forEach(function(e){if(e.name){var n=new Set;a(e,n),i[e.name.value]=n}})})(),e.exports=t,e.exports["GetDbSecurityTreeFiltered"]=r(t,"GetDbSecurityTreeFiltered")},ef09:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allSchemata"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schemaName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schemaTables"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"policies"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schemaName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"policyName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cmd"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"withCheck"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"qual"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"roleTableGrants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"grantor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"grantee"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"privilegeType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isGrantable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"withHierarchy"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"schemaFunctions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"name"},name:{kind:"Name",value:"functionName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"functionSchema"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:847}};t.loc.source={body:'query {\n  allSchemata\n  # (\n    # filter: {\n    #   schemaName: {\n    #     notIn: [\n    #       "pg_toast",\n    #       "pg_temp_1",\n    #       "pg_toast_temp_1",\n    #       "pg_catalog",\n    #       "information_schema",\n    #       "public"\n    #     ]\n    #   }\n    # }\n  # ) \n  {\n    nodes {\n      id\n      schemaName\n      schemaTables {\n        id\n        tableName\n        tableSchema\n        policies {\n          tableName\n          schemaName\n          policyName\n          roles\n          cmd\n          withCheck\n          qual\n        }\n        roleTableGrants {\n          grantor\n          grantee\n          tableName\n          tableSchema\n          privilegeType\n          isGrantable\n          withHierarchy\n        }\n      }\n      schemaFunctions {\n        id\n        name: functionName\n        functionSchema\n      }\n    }\n  }\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};function a(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(e){a(e,n)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){a(e,n)}),e.definitions&&e.definitions.forEach(function(e){a(e,n)})}var i={};(function(){t.definitions.forEach(function(e){if(e.name){var n=new Set;a(e,n),i[e.name.value]=n}})})(),e.exports=t}});
//# sourceMappingURL=app.fec8bec0.js.map