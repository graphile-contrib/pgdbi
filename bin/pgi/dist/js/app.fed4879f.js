(function(e){function t(t){for(var a,r,s=t[0],o=t[1],c=t[2],d=0,u=[];d<s.length;d++)r=s[d],i[r]&&u.push(i[r][0]),i[r]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);m&&m(t);while(u.length)u.shift()();return l.push.apply(l,c||[]),n()}function n(){for(var e,t=0;t<l.length;t++){for(var n=l[t],a=!0,r=1;r<n.length;r++){var o=n[r];0!==i[o]&&(a=!1)}a&&(l.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},i={app:0},l=[];function r(e){return s.p+"js/"+({about:"about"}[e]||e)+"."+{about:"30f202c7"}[e]+".js"}function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n=i[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise(function(t,a){n=i[e]=[t,a]});t.push(n[2]=a);var l,o=document.createElement("script");o.charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.src=r(e),l=function(t){o.onerror=o.onload=null,clearTimeout(c);var n=i[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),l=t&&t.target&&t.target.src,r=new Error("Loading chunk "+e+" failed.\n("+a+": "+l+")");r.type=a,r.request=l,n[1](r)}i[e]=void 0}};var c=setTimeout(function(){l({type:"timeout",target:o})},12e4);o.onerror=o.onload=l,document.head.appendChild(o)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var d=0;d<o.length;d++)t(o[d]);var m=c;l.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var a=n("1356"),i=n.n(a);i.a},1356:function(e,t,n){},"15ad":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{key:e.policy.id},[n("h1",[e._v("Policy Name: "+e._s(e.policy.name))]),n("v-layout",{attrs:{"justify-center":""}},[n("v-checkbox",{attrs:{label:"Enable Rls"},model:{value:e.enableRls,callback:function(t){e.enableRls=t},expression:"enableRls"}})],1),n("v-data-table",{staticClass:"text-sm-left",attrs:{headers:e.headers,items:e.grantMatrix,"hide-actions":"","item-key":"id"},scopedSlots:e._u([{key:"items",fn:function(t){return[n("td",[e._v(e._s(t.item.roleName))]),n("td",[n("v-checkbox",{attrs:{"input-value":e.roleGrantSelected(t.item,"select"),disabled:e.roleGrantDisabled(t.item,"select")},on:{click:function(n){return e.toggleRoleGrant(t.item.roleName,"select")}}})],1),n("td",[n("v-checkbox",{attrs:{"input-value":e.roleGrantSelected(t.item,"insert"),disabled:e.roleGrantDisabled(t.item,"insert")},on:{click:function(n){return e.toggleRoleGrant(t.item.roleName,"insert")}}})],1),n("td",[n("v-checkbox",{attrs:{"input-value":e.roleGrantSelected(t.item,"update"),disabled:e.roleGrantDisabled(t.item,"update")},on:{click:function(n){return e.toggleRoleGrant(t.item.roleName,"update")}}})],1),n("td",[n("v-checkbox",{attrs:{"input-value":e.roleGrantSelected(t.item,"delete"),disabled:e.roleGrantDisabled(t.item,"delete")},on:{click:function(n){return e.toggleRoleGrant(t.item.roleName,"delete")}}})],1)]}}])}),n("v-toolbar",[n("v-btn",{on:{click:e.expand}},[e._v("Expand")])],1),n("v-textarea",{attrs:{value:e.computedPolicy,"auto-grow":""}})],1)},i=[],l=n("bd86"),r=n("a4bb"),s=n.n(r),o=(n("7514"),n("cebc")),c=(n("c5f6"),n("cadf"),n("551c"),n("f751"),n("097d"),"ALLOWED"),d="DENIED",m="IMPLIED",u={name:"PolicyDefinition",props:{policyId:{type:Number,required:!0}},data:function(){return{enableRls:!0,policyStructure:[],calculatedPolicy:"NOT CALCULATED",toggleCompleted:!1}},watch:{enableRls:function(){var e=this;this.policyStructure&&(this.enableRls?this.policyStructure=this.policyStructure.map(function(t){return Object(o["a"])({},e.policyStructure,{qual:e.defaultRlsQual})}):this.policyStructure=Object(o["a"])({qual:qual},this.policyStructure))}},methods:{expand:function(){this.$store.commit("savePolicy",{policy:Object(o["a"])({},this.policy,{roleGrants:Object(o["a"])({},this.policy.roleGrants,{soro_admin:{select:!0,insert:!0,update:!0,delete:!0}})})})},roleGrantSelected:function(e,t){return[c,m].indexOf(e[t])>-1},roleGrantDisabled:function(e,t){return!1},toggleRoleGrant:function(e,t){var n=this;if(!0!==this.toggleCompleted){var a=this.projectRoles.find(function(t){return t.roleName===e}),i=this.policy.roleGrants[e][t],r=[c,m].indexOf(i)>-1?d:c,u=s()(this.policy.roleGrants).reduce(function(i,d){var m=n.projectRoles.find(function(e){return e.roleName===d});return Object(o["a"])({},i,Object(l["a"])({},d,s()(n.policy.roleGrants[d]).reduce(function(i,s){var u=n.policy.roleGrants[d][s],v=m.applicableRoles.find(function(t){return t.roleName===e}),p=a.applicableRoles.find(function(e){return e.roleName===m.roleName}),f=u;return console.log("newAction",s,d,e),s===t?(console.log("doit",s,r,d,e),r===c?d===e?console.log("same",s,r,d,e):(console.log("diff",s,r,d,e),f=v?"IMPLIED":n.policy.roleGrants[s]):f=p?"DENIED":n.policy.roleGrants[s]):f=u,Object(o["a"])({},i,Object(l["a"])({},s,f))},{})))},{});this.$store.commit("savePolicy",{policy:Object(o["a"])({},this.policy,{roleGrants:u})}),this.toggleCompleted=!0}else this.toggleCompleted=!1}},computed:{projectRoles:function(){return this.$store.state.projectRoles},policy:function(){var e=this,t=(this.$store.state.policies,this.$store.state.policies.find(function(t){return t.id===e.policyId}));return t},computedPolicy:function(){var e=this,t=this.policyHeaderTemplate,n=this.policyFooterTemplate,a=s()(this.policy.roleGrants).reduce(function(t,n){var a=e.policy.roleGrants[n];return t.concat(s()(a).filter(function(e){return"roleName"!==e}).reduce(function(e,t){return[c,m].indexOf(a[t])>-1?e.concat("".concat(n," -- ").concat(t,"\n")):e},""))},"");return t.concat(a).concat(n)},grantMatrix:function(){var e=this;return s()(this.policy.roleGrants).map(function(t){return Object(o["a"])({},e.policy.roleGrants[t],{roleName:t})})},policyHeaderTemplate:function(){return this.policy.policyHeaderTemplate},policyFooterTemplate:function(){return this.policy.policyFooterTemplate},roleTableGrantTemplate:function(){return this.policy.roleTableGrantTemplate},defaultRlsQual:function(){return this.$store.state.defaultRlsQual},headers:function(){}}},v=u,p=n("2877"),f=n("6544"),k=n.n(f),h=n("8336"),b=n("ac7c"),g=n("8fea"),N=n("a722"),y=n("a844"),S=n("71d9"),_=Object(p["a"])(v,a,i,!1,null,null,null);t["a"]=_.exports;k()(_,{VBtn:h["a"],VCheckbox:b["a"],VDataTable:g["a"],VLayout:N["a"],VTextarea:y["a"],VToolbar:S["a"]})},"2a83":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allEnabledRoles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"roleName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"applicableRoles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"grantee"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roleName"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:131}};n.loc.source={body:"query {\n  allEnabledRoles {\n    nodes {\n      roleName\n      applicableRoles {\n        grantee\n        roleName\n      }\n    }\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function a(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(e){a(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){a(e,t)}),e.definitions&&e.definitions.forEach(function(e){a(e,t)})}var i={};(function(){n.definitions.forEach(function(e){if(e.name){var t=new Set;a(e,t),i[e.name.value]=t}})})(),e.exports=n},"3b18":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TableById"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tableById"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isTyped"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userDefinedTypeName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primaryKeyConstraints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"constraintName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"indices"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"columnName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"indexName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"policies"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schemaName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"policyName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cmd"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"withCheck"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"qual"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"triggers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"triggerCatalog"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"triggerSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"triggerName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"eventManipulation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"eventObjectCatalog"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"eventObjectSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"eventObjectTable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionOrder"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionCondition"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionStatement"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionOrientation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionTiming"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionReferenceOldTable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionReferenceNewTable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionReferenceOldRow"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionReferenceNewRow"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"triggerFunction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"functionName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"functionSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resultDataType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"argumentDataTypes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"definition"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"roleTableGrants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"grantor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"grantee"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"privilegeType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isGrantable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"withHierarchy"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"roleColumnGrants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"grantor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"grantee"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"privilegeType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isGrantable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"columnName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"checkConstraints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"constraintName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"constraintSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"checkClause"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableConstraints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"constraintType"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"uniqueConstraints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"constraintName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"constraintName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"constraintSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"keyColumnUsage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"columnName"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"referentialConstraints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"constraintName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"constraintSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"uniqueConstraintName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"uniqueConstraintSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"matchOption"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updateRule"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deleteRule"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referencingColumnUsage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"constraintName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"columnName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ordinalPosition"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"positionInUniqueConstraint"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"referencedColumnUsage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"constraintName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"columnName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ordinalPosition"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"positionInUniqueConstraint"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"tableColumns"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"columnName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dataType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isIdentity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ordinalPosition"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"columnDefault"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isNullable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"characterMaximumLength"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"characterOctetLength"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"numericScale"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"numericPrecision"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"numericPrecisionRadix"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"datetimePrecision"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"intervalType"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:2581}};n.loc.source={body:"query TableById(\n  $id: String!\n){\n  tableById(id: $id) {\n    id\n    tableName\n    tableSchema\n    isTyped\n    userDefinedTypeName\n    primaryKeyConstraints {\n      constraintName\n      tableName\n      tableSchema\n    }\n    indices {\n      tableName\n      tableSchema\n      columnName\n      indexName\n    }\n    policies {\n      tableName\n      schemaName\n      policyName\n      roles\n      cmd\n      withCheck\n      qual\n    }\n    triggers {\n      id\n      triggerCatalog\n      triggerSchema\n      triggerName\n      eventManipulation\n      eventObjectCatalog\n      eventObjectSchema\n      eventObjectTable\n      actionOrder\n      actionCondition\n      actionStatement\n      actionOrientation\n      actionTiming\n      actionReferenceOldTable\n      actionReferenceNewTable\n      actionReferenceOldRow\n      actionReferenceNewRow\n      created\n      triggerFunction {\n        id\n        functionName\n        functionSchema\n        resultDataType\n        argumentDataTypes\n        definition\n      }\n    }\n    roleTableGrants {\n      grantor\n      grantee\n      tableName\n      tableSchema\n      privilegeType\n      isGrantable\n      withHierarchy\n    }\n    roleColumnGrants {\n      grantor\n      grantee\n      tableName\n      tableSchema\n      privilegeType\n      isGrantable\n      columnName\n    }\n    checkConstraints {\n      constraintName\n      constraintSchema\n      checkClause\n      tableConstraints {\n        tableName\n        tableSchema\n        constraintType\n      }\n    }\n    uniqueConstraints {\n      constraintName\n      tableName\n      tableSchema\n      constraintName\n      constraintSchema\n      keyColumnUsage {\n        tableSchema\n        tableName\n        columnName\n      }\n    }\n    referentialConstraints {\n      constraintName\n      constraintSchema\n      uniqueConstraintName\n      uniqueConstraintSchema\n      matchOption\n      updateRule\n      deleteRule\n      referencingColumnUsage {\n        constraintName\n        tableSchema\n        tableName\n        columnName\n        ordinalPosition\n        positionInUniqueConstraint\n      }\n      referencedColumnUsage {\n        constraintName\n        tableSchema\n        tableName\n        columnName\n        ordinalPosition\n        positionInUniqueConstraint\n      }\n    }\n    tableColumns {\n      tableName\n      tableSchema\n      columnName\n      dataType\n      isIdentity\n      ordinalPosition\n      columnDefault\n      isNullable\n      characterMaximumLength\n      characterOctetLength\n      numericScale\n      numericPrecision\n      numericPrecisionRadix\n      datetimePrecision\n      intervalType\n    }\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function a(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(e){a(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){a(e,t)}),e.definitions&&e.definitions.forEach(function(e){a(e,t)})}var i={};function l(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}function r(e,t){var n={kind:e.kind,definitions:[l(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,r=new Set,s=new Set;a.forEach(function(e){s.add(e)});while(s.size>0){var o=s;s=new Set,o.forEach(function(e){if(!r.has(e)){r.add(e);var t=i[e]||new Set;t.forEach(function(e){s.add(e)})}})}return r.forEach(function(t){var a=l(e,t);a&&n.definitions.push(a)}),n}(function(){n.definitions.forEach(function(e){if(e.name){var t=new Set;a(e,t),i[e.name.value]=t}})})(),e.exports=n,e.exports["TableById"]=r(n,"TableById")},4438:function(e,t){e.exports="\n\n    --=================== END: {{schemaName}}.{{tableName}}  ===================\n  "},5143:function(e,t,n){"use strict";(function(e){n("6b54");var a=n("15ad");t["a"]={name:"PolicyManager",components:{PolicyDefinition:a["a"]},methods:{saveNewPolicy:function(){try{this.$store.commit("newPolicy",{name:this.newPolicyName})}catch(e){console.log("ERROR",e),alert(e.toString())}this.dialog=!1}},computed:{policies:function(){return this.$store.state.policies}},data:function(){return{dialog:!1,newPolicyName:"New Policy",headers:[{text:"ID",sortable:!1},{text:"Name",sortable:!1}]}},mounted:function(){e.client&&window&&(window.history.scrollRestoration="auto")}}}).call(this,n("4362"))},"52c4":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FunctionById"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"functionById"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"functionName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"functionSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resultDataType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"argumentDataTypes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"definition"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:165}};n.loc.source={body:"query FunctionById($id: String!) {\n  functionById(id: $id) {\n    id\n    functionName\n    functionSchema\n    resultDataType\n    argumentDataTypes\n    definition\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function a(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(e){a(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){a(e,t)}),e.definitions&&e.definitions.forEach(function(e){a(e,t)})}var i={};function l(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}function r(e,t){var n={kind:e.kind,definitions:[l(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,r=new Set,s=new Set;a.forEach(function(e){s.add(e)});while(s.size>0){var o=s;s=new Set,o.forEach(function(e){if(!r.has(e)){r.add(e);var t=i[e]||new Set;t.forEach(function(e){s.add(e)})}})}return r.forEach(function(t){var a=l(e,t);a&&n.definitions.push(a)}),n}(function(){n.definitions.forEach(function(e){if(e.name){var t=new Set;a(e,t),i[e.name.value]=t}})})(),e.exports=n,e.exports["FunctionById"]=r(n,"FunctionById")},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),i=n("bb71");n("da64");a["a"].use(i["a"],{iconfont:"md"});var l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{dark:""}},[n("v-navigation-drawer",{attrs:{persistent:"","mini-variant":e.miniVariant,clipped:e.clipped,"enable-resize-watcher":"",width:"400",app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("project-navigator")],1),n("v-toolbar",{attrs:{app:"","clipped-left":e.clipped}},[n("v-toolbar-side-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),n("v-spacer"),n("div",{attrs:{selectable:""}},[n("v-toolbar-title",{attrs:{selectable:""},domProps:{textContent:e._s(e.title)},on:{click:e.home}})],1),n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:function(t){t.stopPropagation(),e.rightDrawer=!e.rightDrawer}}},[n("v-icon",[e._v("menu")])],1)],1),n("v-content",[n("v-container",{attrs:{fluid:"","justify-start":""}},[n("router-view")],1)],1),n("v-navigation-drawer",{attrs:{persistent:"","mini-variant":e.miniVariant,clipped:e.clipped,right:e.right,"enable-resize-watcher":"",width:"400",app:""},model:{value:e.rightDrawer,callback:function(t){e.rightDrawer=t},expression:"rightDrawer"}}),n("v-footer",{attrs:{fixed:e.fixed,app:""}},[n("span",[e._v("Â© 2017")])])],1)},r=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-toolbar",[n("v-btn",{on:{click:e.toggleFilter}},[e._v(e._s(e.filterButtonText))])],1),n("v-tabs",[n("v-tab",{key:"schemata"},[e._v("Schemata")]),n("v-tab-item",{key:"schemata"},[e.filterOn?e._e():n("schema-tree"),e.filterOn?n("schema-filter"):e._e()],1)],1)],1)},o=[],c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-treeview",{attrs:{items:e.items,activatable:"",transition:"",active:e.active},on:{"update:active":function(t){e.active=t}},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)},d=[],m=(n("28a5"),n("7f7f"),n("8473")),u=n.n(m),v={name:"SchemaTree",computed:{selectedSchemata:function(){return this.$store.state.schemaFilter}},data:function(){return{active:[],items:[],schemata:[],selected:[]}},methods:{computeItems:function(){var e=this,t=0===this.selectedSchemata.length||this.filterMode?this.schemata:this.schemata.filter(function(t){return e.selectedSchemata.indexOf(t.id)>-1});this.items=t.map(function(t){return{id:"schema:".concat(t.schemaName),name:t.schemaName,children:e.filterMode?[]:[{id:"tables:".concat(t.schemaName),name:"tables",children:t.schemaTables},{id:"functions:".concat(t.name),name:"functions",children:t.schemaFunctions},{id:"enums:".concat(t.name),name:"enums",children:t.schemaEnums.map(function(e){return{id:e.id,name:e.name,children:e.enumValues.map(function(t){return{id:"ev:".concat(e.name,":").concat(t),name:t}})}})}]}})}},watch:{selectedSchemata:function(){this.computeItems()},active:function(){var e=this.active[0]||"",t=e.split(":")[0];switch(t){case"table":this.$router.push({name:"table",params:{id:e}});break;case"tables":break;case"function":this.$router.push({name:"function",params:{id:e}});break;default:break}}},apollo:{init:{query:u.a,update:function(e){this.schemata=e.allSchemata.nodes,this.computeItems()}}}},p=v,f=n("2877"),k=n("6544"),h=n.n(k),b=n("a523"),g=n("eb2a"),N=Object(f["a"])(p,c,d,!1,null,null,null),y=N.exports;h()(N,{VContainer:b["a"],VTreeview:g["a"]});var S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-treeview",{attrs:{items:e.items,transition:"",selectable:!0},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)},_=[],T={name:"SchemaFilter",computed:{},data:function(){return{items:[],schemata:[],selected:[],selectedSchemata:[]}},methods:{apply:function(){this.$store.commit("schemaFilter",{schemaFilter:this.selected})},computeItems:function(){var e=this.$store.state.schemaFilter||[],t=this.schemata;this.items=t.map(function(e){return{id:"schema:".concat(e.schemaName),name:e.schemaName,children:[]}}),this.selected=e}},watch:{selected:function(){this.apply()}},apollo:{init:{query:u.a,update:function(e){this.schemata=e.allSchemata.nodes,this.computeItems()}}}},F=T,C=Object(f["a"])(F,S,_,!1,null,null,null),x=C.exports;h()(C,{VTreeview:g["a"]});var R={name:"ProjectNavigator",components:{SchemaTree:y,SchemaFilter:x},data:function(){return{filterOn:!1}},computed:{filterButtonText:function(){return this.filterOn?"Apply":"Filter"}},methods:{toggleFilter:function(){this.filterOn=!this.filterOn}}},O=R,E=n("8336"),w=n("71a3"),V=n("c671"),D=n("fe57"),P=n("71d9"),I=Object(f["a"])(O,s,o,!1,null,null,null),j=I.exports;h()(I,{VBtn:E["a"],VContainer:b["a"],VTab:w["a"],VTabItem:V["a"],VTabs:D["a"],VToolbar:P["a"]});var G={name:"App",components:{ProjectNavigator:j},methods:{home:function(){this.$router.push({name:"home"})}},data:function(){return{clipped:!0,drawer:!0,fixed:!1,items:[],miniVariant:!1,right:!0,rightDrawer:!1,title:"pg-db-inspector"}}},L=G,q=(n("034f"),n("7496")),A=n("549c"),$=n("553a"),B=n("132d"),U=n("f774"),M=n("9910"),Q=n("706c"),H=n("2a7f"),Y=Object(f["a"])(L,l,r,!1,null,null,null),W=Y.exports;h()(Y,{VApp:q["a"],VBtn:E["a"],VContainer:b["a"],VContent:A["a"],VFooter:$["a"],VIcon:B["a"],VNavigationDrawer:U["a"],VSpacer:M["a"],VToolbar:P["a"],VToolbarSideIcon:Q["a"],VToolbarTitle:H["a"]});var z,K,X=n("8c4f"),J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-tabs",{attrs:{dark:""},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[n("v-tab",{key:"roles",attrs:{ripple:""}},[e._v("\n      Roles\n    ")]),n("v-tab-item",{key:"roles"},[n("v-card",[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-card",{key:"roles"},[n("role-filter")],1)],1)],1)],1)],1),n("v-tab",{key:"policy-manager",attrs:{ripple:""}},[e._v("\n      Policy Manager\n    ")]),n("v-tab-item",{key:"policy-manager"},[n("v-card",[n("policy-manager")],1)],1),n("v-tab",{key:"settings",attrs:{ripple:""}},[e._v("\n      Security Policy Settings\n    ")]),n("v-tab-item",{key:"securityPolicySettings"},[n("v-card",[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-card",{key:"securityPolicySettings"},[n("security-policy-settings")],1)],1)],1)],1)],1),n("v-tab",{key:"policies",attrs:{ripple:""}},[e._v("\n      Security Policies\n    ")]),n("v-tab-item",{key:"policies"},[n("v-card",[n("security-policy")],1)],1),n("v-tab",{key:"securityReview",attrs:{ripple:""}},[e._v("\n      Security Review\n    ")]),n("v-tab-item",{key:"securityReview"},[n("v-card",[n("security-review")],1)],1)],1)],1)},Z=[],ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",e._l(e.roleFamilies,function(t){return n("div",{key:t.name},[n("v-toolbar",[n("v-checkbox",{attrs:{"input-value":e.familyIsSelected(t)},on:{change:function(n){return e.familyCheckChanged(t)}}}),n("h2",[e._v("Applicable Family")]),n("v-spacer"),n("h2",[e._v(e._s(t.name))]),n("v-spacer")],1),n("v-data-table",{staticClass:"text-sm-left",attrs:{headers:e.familyHeaders(t),items:t.dataRows,"hide-actions":"","item-key":"id"},scopedSlots:e._u([{key:"items",fn:function(a){return[n("tr",{on:{click:function(e){a.expanded=!a.expanded}}},[n("td",[n("v-checkbox",{attrs:{"input-value":e.roleIsSelected(a.item)},on:{change:function(t){return e.roleCheckChanged(a.item)}}})],1),n("td",{staticClass:"text-sm-left"},[e._v(e._s(a.item.roleName))]),e._l(t.allMemberNames,function(t){return n("td",{key:t,staticClass:"text-sm-left"},[e._v(e._s(a.item[t]))])})],2)]}}],null,!0)}),n("hr")],1)}),0)},te=[],ne=n("cebc"),ae=n("bd86"),ie=n("5176"),le=n.n(ie),re=(n("55dd"),n("75fc")),se=n("b6d0"),oe=n.n(se),ce=n("774e"),de=n.n(ce),me=(n("7514"),n("2a83")),ue=n.n(me),ve={name:"RoleFilterFunctionsMixin",methods:{}},pe=ve,fe=Object(f["a"])(pe,z,K,!1,null,null,null),ke=fe.exports,he="---",be="+++",ge={name:"RoleFilter",mixins:[ke],computed:{projectRoles:function(){return this.$store.state.projectRoles},applyDisabled:function(){var e=this;if(this.roles.length>0){var t=this.projectRoles.reduce(function(t,n){var a=e.roles.find(function(e){return e.roleName===n.roleName});return t?a.selected:t},!0),n=this.roles.filter(function(e){return e.selected});return t&&n.length===this.projectRoles.length}return!0},selectedRoleFamilies:function(){return this.$store.state.selectedRoleFamilies}},watch:{},data:function(){return{roleFamilies:[],roles:[],checkedFamilies:[],checkedRoles:{}}},methods:{familyIsSelected:function(e){var t=this,n=e.members.reduce(function(e,n){return e?t.roleIsSelected(n):e},!0);return n},roleIsSelected:function(e){return void 0!==this.projectRoles.find(function(t){return t.roleName===e.roleName})},familyCheckChanged:function(e){var t=this.familyIsSelected(e),n=t?this.projectRoles.filter(function(t){return void 0===e.members.find(function(e){return e.roleName===t.roleName})}):de()(new oe.a([].concat(Object(re["a"])(e.members),Object(re["a"])(this.projectRoles))));this.$store.commit("projectRoles",{projectRoles:n})},roleCheckChanged:function(e){e.selected=!e.selected;var t=this.projectRoles.find(function(t){return t.roleName===e.roleName}),n=t?this.projectRoles.filter(function(t){return t.roleName!==e.roleName}):[].concat(Object(re["a"])(this.projectRoles),[e]);this.$store.commit("projectRoles",{projectRoles:n})},familyHeaders:function(e){var t=e.allMemberNames.map(function(e){return{text:e,value:e,sortable:!1}}),n=[{name:"checkbox",sortable:!1},{text:"grantee",name:"grantee",sortable:!1}].concat(t);return n},computeItems:function(){var e=this;this.roles.map(function(t){t.selected=void 0!==e.projectRoles.find(function(e){return e.name===t.name})});var t=this.roles.sort(function(e,t){return e.applicableRoles.length>=t.applicableRoles.length?-1:1}).reduce(function(t,n){var a=t.find(function(e){return new oe.a(e.allMemberNames).has(n.roleName)});if(a)return t;var i=n.applicableRoles.map(function(e){return e.roleName}).concat([n.roleName]).sort(function(t,n){var a=e.roles.find(function(e){return e.roleName===t}).applicableRoles.length,i=e.roles.find(function(e){return e.roleName===n}).applicableRoles.length;return a>=i?-1:1});return t.concat([{name:n.roleName,selected:e.selectedRoleFamilies.find(function(e){return e.name===n.roleName}),allMemberNames:i}])},[]);this.roleFamilies=t.reduce(function(t,n){var a=n.allMemberNames.reduce(function(t,a){var i=e.roles.find(function(e){return e.roleName===a}),l=n.allMemberNames.reduce(function(e,t){var n=i.applicableRoles.find(function(e){return e.roleName===t});return void 0!==n?le()(e,Object(ae["a"])({},t,be)):i.roleName===t?le()(e,Object(ae["a"])({},t,t)):le()(e,Object(ae["a"])({},t,he))},{});return t.concat([le()({roleName:a},l)])},[]),i=e.roles.filter(function(e){return n.allMemberNames.indexOf(e.roleName)>-1});return t.concat([le()(n,{dataRows:a,members:i})])},[])},familyItems:function(e){return e.items}},apollo:{init:{query:ue.a,update:function(e){var t=this;this.roles=e.allEnabledRoles.nodes.map(function(e){t.projectRoles.find(function(t){return t.roleName===e.roleName});return Object(ne["a"])({},e,{selected:void 0!==t.projectRoles.find(function(t){return t.roleName===e.roleName})})}),this.computeItems()}}}},Ne=ge,ye=n("ac7c"),Se=n("8fea"),_e=Object(f["a"])(Ne,ee,te,!1,null,null,null),Te=_e.exports;h()(_e,{VCheckbox:ye["a"],VContainer:b["a"],VDataTable:Se["a"],VSpacer:M["a"],VToolbar:P["a"]});var Fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-toolbar",[n("v-btn",{on:{click:e.resetState}},[e._v("Reset")]),n("v-btn",{on:{click:e.saveState}},[e._v("Save")])],1),n("hr"),n("v-card",[n("v-text-field",{attrs:{label:"App Tenant Field Name"},model:{value:e.appTenantFieldName,callback:function(t){e.appTenantFieldName=t},expression:"appTenantFieldName"}})],1),n("v-tabs",{attrs:{dark:"","slider-color":"yellow"}},[n("v-tab",{key:"default-policy-without-rls",attrs:{ripple:""}},[e._v("\n      Without Rls\n    ")]),n("v-tab-item",{key:"default-policy-without-rls"},[n("v-textarea",{attrs:{"auto-grow":"",spellcheck:"false","min-height":800},model:{value:e.policyTemplateNoRls,callback:function(t){e.policyTemplateNoRls=t},expression:"policyTemplateNoRls"}})],1),n("v-tab",{key:"default-policy-with-rls",attrs:{ripple:""}},[e._v("\n      With Rls\n    ")]),n("v-tab-item",{key:"default-policy-with-rls"},[n("v-textarea",{attrs:{"auto-grow":"",spellcheck:"false"},model:{value:e.policyTemplateRls,callback:function(t){e.policyTemplateRls=t},expression:"policyTemplateRls"}})],1)],1)],1)},Ce=[],xe={name:"SecurityPolicySettings",computed:{},methods:{saveState:function(){this.$store.commit("policyTemplateNoRls",{policyTemplateNoRls:this.policyTemplateNoRls}),this.$store.commit("policyTemplateRls",{policyTemplateRls:this.policyTemplateRls}),this.$store.commit("appTenantFieldName",{appTenantFieldName:this.appTenantFieldName})},resetState:function(){this.$store.commit("resetDefaultState"),this.loadState()},loadState:function(){this.policyTemplateNoRls=this.$store.state.policyTemplateNoRls,this.policyTemplateRls=this.$store.state.policyTemplateRls,this.appTenantFieldName=this.$store.state.appTenantFieldName}},data:function(){return{policyTemplateNoRls:"",policyTemplateRls:"",appTenantFieldName:""}},mounted:function(){this.loadState()}},Re=xe,Oe=n("b0af"),Ee=n("2677"),we=n("a844"),Ve=Object(f["a"])(Re,Fe,Ce,!1,null,null,null),De=Ve.exports;h()(Ve,{VBtn:E["a"],VCard:Oe["a"],VContainer:b["a"],VTab:w["a"],VTabItem:V["a"],VTabs:D["a"],VTextField:Ee["a"],VTextarea:we["a"],VToolbar:P["a"]});var Pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-tabs",{attrs:{dark:"","slider-color":"yellow"}},[e._l(e.allPolicies,function(t){return n("v-tab",{key:t.name,attrs:{ripple:""}},[e._v("\n      "+e._s(t.name)+"\n    ")])}),e._l(e.allPolicies,function(t){return n("v-tab-item",{key:t.name},[n("v-toolbar",[n("v-btn",{on:{click:function(n){return e.expand(t)}}},[e._v("Expand")]),n("button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.policy,expression:"schemaPolicy.policy",arg:"copy"}]},[e._v("Copy")])],1),n("v-textarea",{attrs:{disabled:!0,value:t.policy,"auto-grow":"",spellcheck:"false"}})],1)})],2)],1)},Ie=[],je={name:"SecurityPolicy",components:{},props:{},computed:{schemaFilter:function(){return this.$store.state.schemaFilter},policyTemplateNoRls:function(){return this.$store.state.policyTemplateNoRls},policyTemplateRls:function(){return this.$store.state.policyTemplateRls},appTenantFieldName:function(){return this.$store.state.appTenantFieldName}},methods:{handleCopyStatus:function(e){alert(e)},expand:function(e){e.policy="".concat(e.policy," ")},calcOnePolicy:function(e,t){return e.reduce(function(e,n){var a=t.split("{{schemaName}}").join(n.tableSchema).split("{{tableName}}").join(n.name);return e.concat(a)},"")},calculateAllPolicies:function(){var e=this;if(this.schemaTree){var t=this.schemaFilter.map(function(e){return e.split(":")[1]});this.allPolicies=t.reduce(function(t,n){var a=e.schemaTree.find(function(e){return e.schemaName===n}).schemaTables.filter(function(t){return void 0!==t.tableColumns.find(function(t){return t.columnName===e.appTenantFieldName})}),i={name:"".concat(n," - rls"),policy:e.calcOnePolicy(a,e.policyTemplateRls)},l=e.schemaTree.find(function(e){return e.schemaName===n}).schemaTables.filter(function(t){return void 0===t.tableColumns.find(function(t){return t.columnName===e.appTenantFieldName})}),r={name:"".concat(n," - no rls"),policy:e.calcOnePolicy(l,e.policyTemplateNoRls)};return t.concat([i,r])},[])}else this.allPolicies=[]}},watch:{schemaFilter:function(){this.$apollo.queries.init.refetch()}},data:function(){return{allPolicies:[],schemaPolicy:"NOT CALCULATED",defaultRlsPolicies:"NOT CALCULATED",defaultNoRlsPolicies:"NOT CALCULATED",selectedTabName:""}},apollo:{init:{query:function(){return u.a},fetchPolicy:"network-only",update:function(e){this.schemaTree=e.allSchemata.nodes,this.calculateAllPolicies()}}}},Ge=je,Le=Object(f["a"])(Ge,Pe,Ie,!1,null,null,null),qe=Le.exports;h()(Le,{VBtn:E["a"],VContainer:b["a"],VTab:w["a"],VTabItem:V["a"],VTabs:D["a"],VTextarea:we["a"],VToolbar:P["a"]});var Ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[e._v("\n  SECURITY\n  "),n("v-tabs",{attrs:{dark:"","slider-color":"yellow"}},[n("v-tab",{key:"rendered",attrs:{ripple:""}},[e._v("\n      Rendered\n    ")]),n("v-tab-item",{key:"rendered"},[n("v-data-table",{attrs:{headers:e.headers,items:e.items,"hide-actions":"","item-key":"id"},scopedSlots:e._u([{key:"items",fn:function(t){return[n("tr",{on:{click:function(e){t.expanded=!t.expanded}}},[n("td",{key:"schemaName"},[e._v(e._s(t.item.schemaName))]),n("td",{key:"tableName"},[e._v(e._s(t.item.tableName))]),n("td",{key:"policyCount"},[e._v("\n                "+e._s(t.item.policyCount)+"\n                "),n("v-icon",{attrs:{small:"",color:t.item.policyColor}},[e._v("fiber_manual_record")])],1)])]}},{key:"expand",fn:function(t){return[n("v-tabs",{attrs:{dark:"","slider-color":"yellow"}},[n("v-tab",{key:"rls-policies",attrs:{ripple:""}},[e._v("\n              Rls Policies\n            ")]),n("v-tab-item",{key:"rls-policies"},[n("v-card",{attrs:{color:"blue"}},[n("v-container",[n("table-policies",{attrs:{policies:t.item.policies}})],1)],1)],1),n("v-tab",{key:"table-grants",attrs:{ripple:""}},[e._v("\n              Table Grants\n            ")]),n("v-tab-item",{key:"table-grants"},[n("v-card",{attrs:{color:"blue"}},[n("v-container",[n("table-grants",{attrs:{grants:t.item.roleTableGrants}})],1)],1)],1)],1)]}}])})],1)],1)],1)},$e=[],Be=n("ef09"),Ue=n.n(Be),Me=n("be48"),Qe=n.n(Me),He=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.policies,pagination:e.pagination,"hide-actions":!0},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[n("td",[e._v(e._s(t.item.policyName))]),n("td",[e._v(e._s(t.item.roles))]),n("td",[e._v(e._s(t.item.cmd))]),n("td",[e._v(e._s(t.item.qual))]),n("td",[e._v(e._s(t.item.withCheck))])]}}])})],1)},Ye=[],We={name:"TablePolicies",props:{policies:{type:Array,required:!0}},methods:{changeSort:function(e){this.pagination.sortBy===e?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=e,this.pagination.descending=!1)}},data:function(){return{headers:[{text:"Policy Name",align:"left",sortable:!0,value:"policyName"},{text:"Roles",align:"left",sortable:!0,value:"roles"},{text:"Cmd",align:"left",sortable:!0,value:"cmd"},{text:"Qual",align:"left",sortable:!0,value:"qual"},{text:"With Check",align:"left",sortable:!0,value:"withCheck"}],pagination:{sortBy:"constraintName",rowsPerPage:-1}}}},ze=We,Ke=Object(f["a"])(ze,He,Ye,!1,null,null,null),Xe=Ke.exports;h()(Ke,{VContainer:b["a"],VDataTable:Se["a"]});var Je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.grants,pagination:e.pagination,"hide-actions":!0},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[n("td",[e._v(e._s(t.item.grantee))]),n("td",[e._v(e._s(t.item.privilegeType))])]}}])})],1)},Ze=[],et={name:"TableGrants",props:{grants:{type:Array,required:!0}},methods:{changeSort:function(e){this.pagination.sortBy===e?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=e,this.pagination.descending=!1)}},data:function(){return{headers:[{text:"Grantor",align:"left",sortable:!0,value:"grantor"},{text:"Privilege Type",align:"left",sortable:!0,value:"privilegeType"}],pagination:{sortBy:"constraintName",rowsPerPage:-1}}}},tt=et,nt=Object(f["a"])(tt,Je,Ze,!1,null,null,null),at=nt.exports;h()(nt,{VContainer:b["a"],VDataTable:Se["a"]});var it={name:"SecurityReview",components:{TablePolicies:Xe,TableGrants:at},props:{},computed:{selectedAppRoles:function(){return this.$store.state.roleFilter},tableItem:function(){return(this.securityTree.find(function(e){return"org"===e.schemaName})||{schemaTables:[]}).schemaTables.find(function(e){return"organization"===e.tableName})||{tableName:"nada"}},definition:function(){return this.fn.definition},schemaFilter:function(){return this.$store.state.schemaFilter},items:function(){return this.securityTree.reduce(function(e,t){var n=t.schemaTables.map(function(e){return{id:e.id,schemaName:e.tableSchema,tableName:e.tableName,policyCount:e.policies.length,policyColor:e.policies.length>0?"green":"red",policyText:0===e.policies.length?"no policies":e.policies.reduce(function(e,t){return e.concat("".concat(t.cmd," - ").concat(t.cmd," - ").concat(t.qual))},""),policies:e.policies,roleTableGrants:e.roleTableGrants,roleTableGrantCount:e.roleTableGrants.length}});return e.concat(n)},[])}},methods:{},watch:{},data:function(){return{securityTree:[],policyHeaders:[{text:"roles",value:"roles"},{text:"cmd",value:"cmd"},{text:"qualifier",value:"qual"}],headers:[{text:"schema name",value:"schemaName"},{text:"table name",value:"tableName"},{text:"policy",value:"policyCount"}],policy:"NOT CALCULATED"}},apollo:{init:{query:function(){return this.schemaFilter.length>0?Qe.a:Ue.a},variables:function(){return this.schemaFilter.length>0?{filter:this.schemaFilter.map(function(e){return e.split(":")[1]})}:{}},update:function(e){this.securityTree=e.allSchemata.nodes}}}},lt=it,rt=Object(f["a"])(lt,Ae,$e,!1,null,null,null),st=rt.exports;h()(rt,{VCard:Oe["a"],VContainer:b["a"],VDataTable:Se["a"],VIcon:B["a"],VTab:w["a"],VTabItem:V["a"],VTabs:D["a"]});var ot=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-toolbar",[n("v-dialog",{attrs:{persistent:"","max-width":"290"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{color:"primary",dark:""}},a),[e._v("New Policy")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("New Policy")]),n("v-text-field",{attrs:{label:"Name"},model:{value:e.newPolicyName,callback:function(t){e.newPolicyName=t},expression:"newPolicyName"}}),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",flat:""},on:{click:e.saveNewPolicy}},[e._v("Save")]),n("v-btn",{attrs:{color:"green darken-1",flat:""},on:{click:function(t){e.dialog=!1}}},[e._v("Cancel")])],1)],1)],1)],1),n("v-data-table",{staticClass:"text-sm-left",attrs:{headers:e.headers,items:e.policies,"hide-actions":"","item-key":"id"},scopedSlots:e._u([{key:"items",fn:function(t){return[n("tr",{on:{click:function(e){t.expanded=!t.expanded}}},[n("td",{key:"id"},[e._v(e._s(t.item.id))]),n("td",{key:"name"},[e._v(e._s(t.item.name))])])]}},{key:"expand",fn:function(e){return[n("policy-definition",{key:e.item.id,attrs:{policyId:e.item.id}})]}}])})],1)},ct=[],dt=n("5143"),mt=dt["a"],ut=n("99d9"),vt=n("12b2"),pt=n("169a"),ft=Object(f["a"])(mt,ot,ct,!1,null,null,null),kt=ft.exports;h()(ft,{VBtn:E["a"],VCard:Oe["a"],VCardActions:ut["a"],VCardTitle:vt["a"],VDataTable:Se["a"],VDialog:pt["a"],VSpacer:M["a"],VTextField:Ee["a"],VToolbar:P["a"]});var ht={name:"Home",components:{RoleFilter:Te,SecurityPolicySettings:De,SecurityPolicy:qe,SecurityReview:st,PolicyManager:kt},props:{},computed:{},data:function(){return{activeTab:null}},apollo:{}},bt=ht,gt=n("0e8f"),Nt=n("a722"),yt=Object(f["a"])(bt,J,Z,!1,null,null,null),St=yt.exports;h()(yt,{VCard:Oe["a"],VContainer:b["a"],VFlex:gt["a"],VLayout:Nt["a"],VTab:w["a"],VTabItem:V["a"],VTabs:D["a"]});var _t=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("h1",[e._v(e._s(e.tableSchema)+"."+e._s(e.tableName))]),n("h3",[e._v(e._s(e.id))]),n("hr"),n("v-tabs",{attrs:{dark:""},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[n("v-tab",{key:"cols",attrs:{ripple:""}},[e._v("\n      Columns\n    ")]),n("v-tab-item",{key:"cols"},[n("v-card",{attrs:{flat:""}},[n("table-columns",{attrs:{tableColumns:e.tableColumns}})],1)],1),n("v-tab",{key:"constraints",attrs:{ripple:""}},[e._v("\n      Constraints\n    ")]),n("v-tab-item",{key:"constraints"},[n("v-card",{attrs:{flat:""}},[n("table-constraints",{attrs:{tableInfo:e.tableInfo}})],1)],1),n("v-tab",{key:"indices",attrs:{ripple:""}},[e._v("\n      Indices\n    ")]),n("v-tab-item",{key:"indices"},[n("v-card",{attrs:{flat:""}},[n("table-indices",{attrs:{indices:e.indices}})],1)],1),n("v-tab",{key:"tablegrants",attrs:{ripple:""}},[e._v("\n      Table Grants\n    ")]),n("v-tab-item",{key:"tablegrants"},[n("v-card",{attrs:{flat:""}},[n("table-grants",{attrs:{grants:e.tableGrants}})],1)],1),n("v-tab",{key:"tablecolumngrants",attrs:{ripple:""}},[e._v("\n      Column Grants\n    ")]),n("v-tab-item",{key:"tablecolumngrants"},[n("v-card",{attrs:{flat:""}},[n("table-column-grants",{attrs:{grants:e.tableColumnGrants}})],1)],1),n("v-tab",{key:"tablepolicies",attrs:{ripple:""}},[e._v("\n      Policies\n    ")]),n("v-tab-item",{key:"tablepolicies"},[n("v-card",{attrs:{flat:""}},[n("table-policies",{attrs:{policies:e.tablePolicies}})],1)],1),n("v-tab",{key:"tabletriggers",attrs:{ripple:""}},[e._v("\n      Triggers\n    ")]),n("v-tab-item",{key:"tabletriggers"},[n("v-card",{attrs:{flat:""}},[n("table-triggers",{attrs:{triggers:e.tableTriggers}})],1)],1)],1)],1)},Tt=[],Ft=n("3b18"),Ct=n.n(Ft),xt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.tableColumns,pagination:e.pagination,"hide-actions":!0},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[n("td",[e._v(e._s(t.item.ordinalPosition))]),n("td",[e._v(e._s(t.item.columnName))]),n("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.dataType))]),n("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.isIdentity))]),n("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.isNullable))]),n("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.columnDefault))])]}}])})],1)},Rt=[],Ot={name:"TableColumns",props:{tableColumns:{type:Array,required:!0}},methods:{changeSort:function(e){this.pagination.sortBy===e?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=e,this.pagination.descending=!1)}},data:function(){return{headers:[{text:"Ordinal",align:"left",sortable:!0,value:"ordinalPosition"},{text:"Column Name",align:"left",sortable:!0,value:"columnName"},{text:"Data Type",align:"right",sortable:!0,value:"dataType"},{text:"Identity",align:"right",sortable:!0,value:"isIdentity"},{text:"Nullable",align:"right",sortable:!0,value:"isNullable"},{text:"Default Value",align:"right",sortable:!0,value:"columnDefault"}],pagination:{sortBy:"ordinalPosition",rowsPerPage:-1}}}},Et=Ot,wt=Object(f["a"])(Et,xt,Rt,!1,null,null,null),Vt=wt.exports;h()(wt,{VContainer:b["a"],VDataTable:Se["a"]});var Dt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.indices,pagination:e.pagination,"hide-actions":!0},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[n("td",[e._v(e._s(t.item.tableSchema))]),n("td",[e._v(e._s(t.item.tableName))]),n("td",[e._v(e._s(t.item.columnName))]),n("td",[e._v(e._s(t.item.indexName))])]}}])})],1)},Pt=[],It={name:"TableIndicies",props:{indices:{type:Array,required:!0}},methods:{changeSort:function(e){this.pagination.sortBy===e?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=e,this.pagination.descending=!1)}},data:function(){return{headers:[{text:"Schema",align:"left",sortable:!0,value:"tableSchema"},{text:"Table",align:"left",sortable:!0,value:"tableName"},{text:"Column",align:"left",sortable:!0,value:"columnName"},{text:"Index Name",align:"left",sortable:!0,value:"indexName"}],pagination:{sortBy:"constraintName",rowsPerPage:-1}}}},jt=It,Gt=Object(f["a"])(jt,Dt,Pt,!1,null,null,null),Lt=Gt.exports;h()(Gt,{VContainer:b["a"],VDataTable:Se["a"]});var qt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-tabs",{attrs:{dark:""},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[n("v-tab",{key:"refcons",attrs:{ripple:""}},[e._v("\n        Referential Constraints\n      ")]),n("v-tab-item",{key:"refcons"},[n("v-card",{attrs:{flat:""}},[n("table-referential-constraints",{attrs:{referentialConstraints:e.referentialConstraints}})],1)],1),n("v-tab",{key:"chk",attrs:{ripple:""}},[e._v("\n        Check Constraints\n      ")]),n("v-tab-item",{key:"chk"},[n("v-card",{attrs:{flat:""}},[n("table-check-constraints",{attrs:{checkConstraints:e.checkConstraints}})],1)],1),n("v-tab",{key:"uq",attrs:{ripple:""}},[e._v("\n        Unique Constraints\n      ")]),n("v-tab-item",{key:"uq"},[n("v-card",{attrs:{flat:""}},[n("table-unique-constraints",{attrs:{uniqueConstraints:e.uniqueConstraints}})],1)],1)],1)],1)},At=[],$t=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.mappedConstraints,pagination:e.pagination,"hide-actions":!0,"item-key":"constraintName"},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[n("tr",{on:{click:function(e){t.expanded=!t.expanded}}},[n("td",[e._v(e._s(t.item.constraintName)),n("hr"),e._v(e._s(t.item.source))]),n("td",[e._v(e._s(t.item.uniqueConstraintName)),n("hr"),e._v(e._s(t.item.target))]),n("td",[e._v(e._s(t.item.matchOption))]),n("td",[e._v(e._s(t.item.updateRule))]),n("td",[e._v(e._s(t.item.deleteRule))])])]}},{key:"expand",fn:function(t){return[n("v-card",{attrs:{flat:""}},[n("h2",[e._v("Source")]),n("table-key-column-usage",{attrs:{keyColumnUsage:t.item.referencingColumnUsage}})],1),n("v-card",{attrs:{flat:""}},[n("h2",[e._v("Target")]),n("table-key-column-usage",{attrs:{keyColumnUsage:t.item.referencedColumnUsage}})],1)]}}])})],1)},Bt=[],Ut=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.keyColumnUsage,"hide-actions":!0},scopedSlots:e._u([{key:"items",fn:function(t){return[n("td",[e._v(e._s(t.item.tableSchema))]),n("td",[e._v(e._s(t.item.tableName))]),n("td",[e._v(e._s(t.item.columnName))])]}}])})],1)},Mt=[],Qt={name:"TableKeyColumnUsage",props:{keyColumnUsage:{type:Array,required:!0}},methods:{},data:function(){return{headers:[{text:"Schema",align:"left",sortable:!1,value:"tableSchema"},{text:"Table",align:"left",sortable:!1,value:"tableName"},{text:"Column",align:"left",sortable:!1,value:"columnName"}]}}},Ht=Qt,Yt=Object(f["a"])(Ht,Ut,Mt,!1,null,null,null),Wt=Yt.exports;h()(Yt,{VContainer:b["a"],VDataTable:Se["a"]});var zt={name:"TableReferentialConstraints",components:{TableKeyColumnUsage:Wt},props:{referentialConstraints:{type:Array,required:!0}},computed:{mappedConstraints:function(){return this.referentialConstraints.map(function(e){return Object(ne["a"])({},e,{expanded:!1,source:"".concat(e.referencingColumnUsage[0].tableSchema,".").concat(e.referencingColumnUsage[0].tableName,".").concat(e.referencingColumnUsage[0].columnName),target:"".concat(e.referencedColumnUsage[0].tableSchema,".").concat(e.referencedColumnUsage[0].tableName,".").concat(e.referencedColumnUsage[0].columnName)})})}},methods:{changeSort:function(e){this.pagination.sortBy===e?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=e,this.pagination.descending=!1)}},data:function(){return{headers:[{text:"Source Constraint",align:"left",sortable:!0,value:"constraintName"},{text:"Target Constraint",align:"left",sortable:!0,value:"uniqueConstraintName"},{text:"On Match",align:"left",sortable:!0,value:"matchOption"},{text:"On Update",align:"left",sortable:!0,value:"updateRule"},{text:"On Delete",align:"left",sortable:!0,value:"deleteRule"}],pagination:{sortBy:"constraintName",rowsPerPage:-1}}}},Kt=zt,Xt=Object(f["a"])(Kt,$t,Bt,!1,null,null,null),Jt=Xt.exports;h()(Xt,{VCard:Oe["a"],VContainer:b["a"],VDataTable:Se["a"]});var Zt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.mappedConstraints,pagination:e.pagination,"hide-actions":!0},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[n("td",[e._v(e._s(t.item.constraintSchema))]),n("td",[e._v(e._s(t.item.tableName))]),n("td",[e._v(e._s(t.item.constraintName))]),n("td",[e._v(e._s(t.item.checkClause))])]}}])})],1)},en=[],tn={name:"TableCheckConstraints",props:{checkConstraints:{type:Array,required:!0}},computed:{mappedConstraints:function(){return this.checkConstraints.map(function(e){return Object(ne["a"])({},e,{expanded:!1,tableName:e.tableConstraints[0].tableName})})}},methods:{changeSort:function(e){this.pagination.sortBy===e?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=e,this.pagination.descending=!1)}},data:function(){return{headers:[{text:"Schema",align:"left",sortable:!0,value:"constraintSchema"},{text:"Table",align:"left",sortable:!0,value:"tableName"},{text:"Name",align:"left",sortable:!0,value:"constraintName"},{text:"Check Clause",align:"left",sortable:!0,value:"checkClause"}],pagination:{sortBy:"constraintName",rowsPerPage:-1}}}},nn=tn,an=Object(f["a"])(nn,Zt,en,!1,null,null,null),ln=an.exports;h()(an,{VContainer:b["a"],VDataTable:Se["a"]});var rn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.uniqueConstraints,pagination:e.pagination,"hide-actions":!0},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[n("td",[e._v(e._s(t.item.constraintSchema))]),n("td",[e._v(e._s(t.item.constraintName))])]}}])})],1)},sn=[],on={name:"TableUniqueConstraints",props:{uniqueConstraints:{type:Array,required:!0}},methods:{changeSort:function(e){this.pagination.sortBy===e?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=e,this.pagination.descending=!1)}},data:function(){return{headers:[{text:"Schema",align:"left",sortable:!0,value:"constraintSchema"},{text:"Name",align:"left",sortable:!0,value:"constraintName"}],pagination:{sortBy:"constraintName",rowsPerPage:-1}}}},cn=on,dn=Object(f["a"])(cn,rn,sn,!1,null,null,null),mn=dn.exports;h()(dn,{VContainer:b["a"],VDataTable:Se["a"]});var un={name:"TableConstraints",components:{TableReferentialConstraints:Jt,TableCheckConstraints:ln,TableUniqueConstraints:mn},props:{tableInfo:{type:Object,required:!0}},computed:{referentialConstraints:function(){return this.tableInfo.referentialConstraints||[]},checkConstraints:function(){return this.tableInfo.checkConstraints||[]},uniqueConstraints:function(){return this.tableInfo.uniqueConstraints||[]}},methods:{},data:function(){return{activeTab:null}}},vn=un,pn=Object(f["a"])(vn,qt,At,!1,null,null,null),fn=pn.exports;h()(pn,{VCard:Oe["a"],VContainer:b["a"],VTab:w["a"],VTabItem:V["a"],VTabs:D["a"]});var kn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.grants,pagination:e.pagination,"hide-actions":!0},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[n("td",[e._v(e._s(t.item.tableSchema))]),n("td",[e._v(e._s(t.item.tableName))]),n("td",[e._v(e._s(t.item.columnName))]),n("td",[e._v(e._s(t.item.grantee))]),n("td",[e._v(e._s(t.item.grantor))]),n("td",[e._v(e._s(t.item.privilegeType))]),n("td",[e._v(e._s(t.item.isGrantable))])]}}])})],1)},hn=[],bn={name:"TableGrants",props:{grants:{type:Array,required:!0}},methods:{changeSort:function(e){this.pagination.sortBy===e?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=e,this.pagination.descending=!1)}},data:function(){return{headers:[{text:"Schema",align:"left",sortable:!0,value:"tableSchema"},{text:"Table",align:"left",sortable:!0,value:"tableName"},{text:"Column",align:"left",sortable:!0,value:"columnName"},{text:"Grantee",align:"left",sortable:!0,value:"grantee"},{text:"Grantor",align:"left",sortable:!0,value:"grantor"},{text:"Privilege Type",align:"left",sortable:!0,value:"privilegeType"},{text:"Is Grantable",align:"left",sortable:!0,value:"isGrantable"}],pagination:{sortBy:"constraintName",rowsPerPage:-1}}}},gn=bn,Nn=Object(f["a"])(gn,kn,hn,!1,null,null,null),yn=Nn.exports;h()(Nn,{VContainer:b["a"],VDataTable:Se["a"]});var Sn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.mappedTriggers,pagination:e.pagination,"hide-actions":!0,"item-key":"id"},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[n("tr",{on:{click:function(e){t.expanded=!t.expanded}}},[n("td",[e._v(e._s(t.item.triggerName))]),n("td",[e._v(e._s(t.item.eventManipulation))]),n("td",[e._v(e._s(t.item.actionOrientation))]),n("td",[e._v(e._s(t.item.actionTiming))]),n("td",[e._v(e._s(t.item.actionStatement))])])]}},{key:"expand",fn:function(e){return[n("v-card",{attrs:{flat:""}},[n("v-textarea",{attrs:{readonly:"",outline:"",value:e.item.functionDefinition,"auto-grow":""}})],1)]}}])})],1)},_n=[],Tn={name:"TableTriggers",props:{triggers:{type:Array,required:!0}},computed:{mappedTriggers:function(){return this.triggers.map(function(e){return Object(ne["a"])({},e,{expanded:!1,functionDefinition:e.triggerFunction?e.triggerFunction.definition:"N/A"})})}},methods:{changeSort:function(e){this.pagination.sortBy===e?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=e,this.pagination.descending=!1)}},data:function(){return{headers:[{text:"Name",align:"left",sortable:!0,value:"triggerName"},{text:"Trigger On",align:"left",sortable:!0,value:"eventManipulation"},{text:"Action Orientation",align:"left",sortable:!0,value:"actionOrientation"},{text:"Timing",align:"left",sortable:!0,value:"actionTiming"},{text:"Statement",align:"left",sortable:!0,value:"actionStatement"}],pagination:{sortBy:"triggerName",rowsPerPage:-1}}}},Fn=Tn,Cn=Object(f["a"])(Fn,Sn,_n,!1,null,null,null),xn=Cn.exports;h()(Cn,{VCard:Oe["a"],VContainer:b["a"],VDataTable:Se["a"],VTextarea:we["a"]});var Rn={name:"Table",components:{TableColumns:Vt,TableConstraints:fn,TableIndices:Lt,TableGrants:at,TableColumnGrants:yn,TablePolicies:Xe,TableTriggers:xn},props:{id:{type:String,required:!0}},computed:{tableName:function(){return this.tableInfo.tableName||"N/A"},tableSchema:function(){return(this.tableInfo.id||"N/A:N/A.N/A").split(":")[1].split(".")[0]},tableColumns:function(){return this.tableInfo.tableColumns||[]},indices:function(){return this.tableInfo.indices||[]},tableGrants:function(){return this.tableInfo.roleTableGrants||[]},tableColumnGrants:function(){return this.tableInfo.roleColumnGrants||[]},tablePolicies:function(){return this.tableInfo.policies||[]},tableTriggers:function(){return this.tableInfo.triggers||[]}},methods:{},data:function(){return{activeTab:null,tableInfo:{}}},apollo:{init:{query:Ct.a,variables:function(){return{id:this.id}},update:function(e){this.tableInfo=e.tableById}}}},On=Rn,En=Object(f["a"])(On,_t,Tt,!1,null,null,null),wn=En.exports;h()(En,{VCard:Oe["a"],VContainer:b["a"],VTab:w["a"],VTabItem:V["a"],VTabs:D["a"]});var Vn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[e._v("\n  FUNCTION DETAIL - "+e._s(e.id)+"\n  "),n("v-textarea",{attrs:{readonly:"",outline:"",value:e.definition,"auto-grow":""}})],1)},Dn=[],Pn=n("52c4"),In=n.n(Pn),jn={name:"Function",props:{id:{type:String,required:!0}},computed:{definition:function(){return this.fn.definition}},data:function(){return{fn:{}}},apollo:{init:{query:In.a,variables:function(){return{id:this.id}},update:function(e){this.fn=e.functionById}}}},Gn=jn,Ln=Object(f["a"])(Gn,Vn,Dn,!1,null,null,null),qn=Ln.exports;h()(Ln,{VContainer:b["a"],VTextarea:we["a"]});var An=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-tabs",{attrs:{dark:""},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[n("v-tab",{key:"roles",attrs:{ripple:""}},[e._v("\n      Roles\n    ")]),n("v-tab-item",{key:"roles"},[n("v-card",[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-card",{key:"roles"},[n("role-filter")],1)],1)],1)],1)],1),n("v-tab",{key:"schemata",attrs:{ripple:""}},[e._v("\n      Schemata\n    ")]),n("v-tab-item",{key:"schemata"},[n("v-card",[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs4:""}},[n("v-card",{key:"schemata"},[e._v("\n              Schemata\n              "),n("schema-filter")],1)],1)],1)],1)],1),n("v-tab",{key:"policies",attrs:{ripple:""}},[e._v("\n      Policy Definitions\n    ")]),n("v-tab-item",{key:"policies"},[n("v-card",[n("policy-manager")],1)],1)],1)],1)},$n=[],Bn={name:"Settings",components:{RoleFilter:Te,SchemaFilter:x,PolicyManager:kt},props:{},computed:{},data:function(){return{activeTab:null}},apollo:{}},Un=Bn,Mn=Object(f["a"])(Un,An,$n,!1,null,null,null),Qn=Mn.exports;h()(Mn,{VCard:Oe["a"],VContainer:b["a"],VFlex:gt["a"],VLayout:Nt["a"],VTab:w["a"],VTabItem:V["a"],VTabs:D["a"]}),a["a"].use(X["a"]);var Hn=new X["a"]({scrollBehavior:function(e,t,n){return n||{x:0,y:0}},routes:[{path:"/",name:"home",component:St},{path:"/security",name:"security",component:qe},{path:"/security-review",name:"security-review",component:st},{path:"/settings",name:"settings",component:Qn},{path:"/table/:id",name:"table",component:wn,props:!0},{path:"/function/:id",name:"function",component:qn,props:!0},{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}}]}),Yn=n("a4bb"),Wn=n.n(Yn),zn=n("2f62"),Kn=n("0e44"),Xn=n("ead6"),Jn=n.n(Xn),Zn=n("4438"),ea=n.n(Zn),ta=n("979f"),na=n.n(ta);a["a"].use(zn["a"]);var aa={schemaFilter:[],projectRoles:[],selectedRoleFamilies:[],selectedRole:[],familyPolicySets:[],policyHeaderTemplate:Jn.a,policyFooterTemplate:ea.a,roleTableGrantTemplate:na.a,appTenantFieldName:"app_tenant_id",defaultRLSQual:"(auth_fn.app_user_has_access(app_tenant_id) = true)",policyTemplateNoRls:"\n  --=================== {{schemaName}}.{{tableName}}  ===================\n  \n    --  REMOVE ALL SECURITY\n    REVOKE ALL PRIVILEGES ON {{schemaName}}.{{tableName}} FROM PUBLIC;\n    ALTER TABLE {{schemaName}}.{{tableName}} DISABLE ROW LEVEL SECURITY;\n    DROP POLICY IF EXISTS all_{{tableName}}_app_user ON {{schemaName}}.{{tableName}};\n    DROP POLICY IF EXISTS all_{{tableName}}_app_super_admin ON {{schemaName}}.{{tableName}};\n    --||--\n  \n    ----------------  GRANTS ----------------\n    GRANT select, update, delete ON TABLE {{schemaName}}.{{tableName}} TO app_user;\n  \n  --=================== {{schemaName}}.{{tableName}}  ===================\n  ",policyTemplateRls:"\n  --=================== {{schemaName}}.{{tableName}}  ===================\n  \n    --  REMOVE ALL SECURITY\n    REVOKE ALL PRIVILEGES ON {{schemaName}}.{{tableName}} FROM PUBLIC;\n    ALTER TABLE {{schemaName}}.{{tableName}} DISABLE ROW LEVEL SECURITY;\n    DROP POLICY IF EXISTS all_{{tableName}}_app_user ON {{schemaName}}.{{tableName}};\n    DROP POLICY IF EXISTS all_{{tableName}}_app_super_admin ON {{schemaName}}.{{tableName}};\n    --||--\n  \n    ----------------  GRANTS ----------------\n    GRANT select, update, delete ON TABLE {{schemaName}}.{{tableName}} TO app_user;\n  \n    ----------------  ENABLE ROW LEVEL SECURITY ----------------\n    ALTER TABLE {{schemaName}}.{{tableName}} ENABLE ROW LEVEL SECURITY;\n  \n    ----------------  USER POLICY ----------------\n    CREATE POLICY all_{{tableName}}_app_user ON {{schemaName}}.{{tableName}} FOR SELECT to app_user\n    USING (app_tenant_id = soro.viewer_company_id());\n  \n    ----------------  SUPER ADMIN POLICY ----------------\n    CREATE POLICY all_{{tableName}}_app_super_admin ON {{schemaName}}.{{tableName}} FOR SELECT to app_super_admin\n    USING (1 = 1);\n  \n    ----------------  MAKE SURE THE TENANT ID FIELD IS INDEXED ----------------\n    CREATE INDEX IF NOT EXISTS idx_{{tableName}}_app_tenant_id ON {{schemaName}}.{{tableName}}(app_tenant_id);\n  \n    --=================== {{schemaName}}.{{tableName}}  ===================\n  ",policies:[]};function ia(e,t){return{id:1e4*(new Date).getTime()+621355968e9,name:e,policyHeaderTemplate:Jn.a,policyFooterTemplate:ea.a,roleTableGrantTemplate:na.a,roleGrants:t.reduce(function(e,t){return Object(ne["a"])({},e,Object(ae["a"])({},t.roleName,{select:"DENIED",insert:"DENIED",update:"DENIED",delete:"DENIED"}))},{}),rlsQualifiers:t.reduce(function(e,t){return Object(ne["a"])({},e,Object(ae["a"])({},t.roleName,{select:"(app_tenant_id = auth_fn.current_app_tenant_id())",insert:"(app_tenant_id = auth_fn.current_app_tenant_id())",update:"(app_tenant_id = auth_fn.current_app_tenant_id())",delete:"(app_tenant_id = auth_fn.current_app_tenant_id())"}))},{})}}function la(e,t){return Object(ne["a"])({},e,{roleGrants:t.reduce(function(t,n){var a=Wn()(e.roleGrants).find(function(e){return e===n.roleName});return Object(ne["a"])({},t,Object(ae["a"])({},n.roleName,a||{select:"DENIED",insert:"DENIED",update:"DENIED",delete:"DENIED"}))},{}),rlsQualifiers:t.reduce(function(t,n){var a=Wn()(e.rlsQualifiers).find(function(e){return e===n.roleName});return a?t:Object(ne["a"])({},t,Object(ae["a"])({},n.roleName,{select:"(app_tenant_id = auth_fn.current_app_tenant_id())",insert:"(app_tenant_id = auth_fn.current_app_tenant_id())",update:"(app_tenant_id = auth_fn.current_app_tenant_id())",delete:"(app_tenant_id = auth_fn.current_app_tenant_id())"}))},{})})}var ra=new zn["a"].Store({plugins:[Object(Kn["a"])()],state:{schemaFilter:aa.schemaFilter,projectRoles:aa.projectRoles,selectedRoleFamilies:aa.selectedRoleFamilies,familyPolicySets:aa.familyPolicySets,appTenantFieldName:aa.appTenantFieldName,defaultRLSQual:aa.defaultRLSQual,policyTemplateNoRls:aa.policyTemplateNoRls,policyTemplateRls:aa.policyTemplateRls,policyHeaderTemplate:Jn.a,policyFooterTemplate:ea.a,roleTableGrantTemplate:na.a,policies:[]},mutations:{initialize:function(e){0===e.policies.length&&(e.policies=[ia("Default Policy",e.projectRoles)])},resetDefaultState:function(e){e.appTenantFieldName=aa.appTenantFieldName,e.defaultRLSQual=aa.defaultRLSQual,e.policyTemplateNoRls=aa.policyTemplateNoRls,e.policyTemplateRls=aa.policyTemplateRls,e.policies=[ia("Default Policy",e.projectRoles)]},schemaFilter:function(e,t){e.schemaFilter=t.schemaFilter},projectRoles:function(e,t){e.projectRoles=t.projectRoles,e.policies=e.policies.map(function(e){return la(e,t.projectRoles)})},selectedRoleFamilies:function(e,t){e.selectedRoleFamilies=t.selectedRoleFamilies},familyPolicySets:function(e,t){e.familyPolicySets=t.familyPolicySets},defaultRLSQual:function(e,t){e.defaultRLSQual=t.defaultRLSQual},policyTemplateNoRls:function(e,t){e.policyTemplateNoRls=t.policyTemplateNoRls},policyTemplateRls:function(e,t){e.policyTemplateRls=t.policyTemplateRls},appTenantFieldName:function(e,t){e.appTenantFieldName=t.appTenantFieldName},newPolicy:function(e,t){var n=e.policies.find(function(e){return e.name===t.name});if(n)throw new Error("A policy with this name already exists");var a=ia(t.name,e.projectRoles);e.policies=[].concat(Object(re["a"])(e.policies),[a]).sort(function(e,t){return e.id<t.id})},savePolicy:function(e,t){var n=e.policies.filter(function(e){return e.name!==t.policy.name});e.policies=[].concat(Object(re["a"])(n),[t.policy]).sort(function(e,t){return e.id-t.id})}},actions:{}}),sa=(n("96cf"),n("3b8d"),n("522d")),oa=n("efe7");a["a"].use(sa["a"]);var ca="apollo-token",da=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_GRAPHQL_HTTP||"http://localhost:6099/graphql",ma={httpEndpoint:da,tokenName:ca,persisting:!1,websocketsOnly:!1,ssr:!1};function ua(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(oa["createApolloClient"])(Object(ne["a"])({},ma,e)),n=t.apolloClient,a=new sa["a"]({defaultClient:n,defaultOptions:{$query:{}},errorHandler:function(e){console.log("%cError","background: red; color: white; padding: 2px 4px; border-radius: 3px; font-weight: bold;",e.message)}});return a}var va=n("4eb5"),pa=n.n(va);a["a"].config.productionTip=!1,a["a"].use(pa.a),new a["a"]({router:Hn,store:ra,apolloProvider:ua(),render:function(e){return e(W)}}).$mount("#app")},8473:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allSchemata"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"schemaName"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"notIn"},value:{kind:"ListValue",values:[{kind:"StringValue",value:"pg_toast",block:!1},{kind:"StringValue",value:"pg_temp_1",block:!1},{kind:"StringValue",value:"pg_toast_temp_1",block:!1},{kind:"StringValue",value:"pg_catalog",block:!1},{kind:"StringValue",value:"information_schema",block:!1},{kind:"StringValue",value:"public",block:!1}]}}]}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schemaName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schemaTables"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"name"},name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableColumns"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"columnName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dataType"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"schemaFunctions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"name"},name:{kind:"Name",value:"functionName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"functionSchema"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"schemaEnums"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"name"},name:{kind:"Name",value:"enumName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enumSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enumValues"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:701}};n.loc.source={body:'query {\n  allSchemata\n  (\n    filter: {\n      schemaName: {\n        notIn: [\n          "pg_toast",\n          "pg_temp_1",\n          "pg_toast_temp_1",\n          "pg_catalog",\n          "information_schema",\n          "public"\n        ]\n      }\n    }\n  ) \n  {\n    nodes {\n      id\n      schemaName\n      schemaTables {\n        id\n        name: tableName\n        tableSchema\n        tableColumns {\n          tableName\n          tableSchema\n          columnName\n          dataType\n        }\n      }\n      schemaFunctions {\n        id\n        name: functionName\n        functionSchema\n      }\n      schemaEnums {\n        id\n        name: enumName\n        enumSchema\n        enumValues\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};function a(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(e){a(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){a(e,t)}),e.definitions&&e.definitions.forEach(function(e){a(e,t)})}var i={};(function(){n.definitions.forEach(function(e){if(e.name){var t=new Set;a(e,t),i[e.name.value]=t}})})(),e.exports=n},"979f":function(e,t){},be48:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetDbSecurityTreeFiltered"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"filter"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SqlIdentifier"}}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allSchemata"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"schemaName"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"in"},value:{kind:"Variable",name:{kind:"Name",value:"filter"}}}]}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schemaName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schemaTables"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"policies"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schemaName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"policyName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cmd"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"withCheck"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"qual"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"roleTableGrants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"grantor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"grantee"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"privilegeType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isGrantable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"withHierarchy"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"roleColumnGrants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"grantor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"grantee"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"privilegeType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isGrantable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"columnName"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"schemaFunctions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"name"},name:{kind:"Name",value:"functionName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"functionSchema"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:880}};n.loc.source={body:"query GetDbSecurityTreeFiltered(\n  $filter: [SqlIdentifier!]!\n){\n  allSchemata(filter: {\n    schemaName: {\n      in: $filter\n    }\n  }) {\n    nodes {\n      id\n      schemaName\n      schemaTables {\n        id\n        tableName\n        tableSchema\n        policies {\n          tableName\n          schemaName\n          policyName\n          roles\n          cmd\n          withCheck\n          qual\n        }\n        roleTableGrants {\n          grantor\n          grantee\n          tableName\n          tableSchema\n          privilegeType\n          isGrantable\n          withHierarchy\n        }\n        roleColumnGrants {\n          grantor\n          grantee\n          tableName\n          tableSchema\n          privilegeType\n          isGrantable\n          columnName\n        }\n      }\n      schemaFunctions {\n        id\n        name: functionName\n        functionSchema\n      }\n    }\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function a(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(e){a(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){a(e,t)}),e.definitions&&e.definitions.forEach(function(e){a(e,t)})}var i={};function l(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}function r(e,t){var n={kind:e.kind,definitions:[l(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,r=new Set,s=new Set;a.forEach(function(e){s.add(e)});while(s.size>0){var o=s;s=new Set,o.forEach(function(e){if(!r.has(e)){r.add(e);var t=i[e]||new Set;t.forEach(function(e){s.add(e)})}})}return r.forEach(function(t){var a=l(e,t);a&&n.definitions.push(a)}),n}(function(){n.definitions.forEach(function(e){if(e.name){var t=new Set;a(e,t),i[e.name.value]=t}})})(),e.exports=n,e.exports["GetDbSecurityTreeFiltered"]=r(n,"GetDbSecurityTreeFiltered")},ead6:function(e,t){e.exports="\n--=================== {{schemaName}}.{{tableName}}  ===================\n\n  --  REMOVE ALL SECURITY\n  revoke all privileges on {{schemaName}}.{{tableName}} from public;\n  alter table {{schemaName}}.{{tableName}} disable row level security;\n  --  END REMOVE ALL SECURITY\n\n"},ef09:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allSchemata"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"schemaName"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"notIn"},value:{kind:"ListValue",values:[{kind:"StringValue",value:"pg_toast",block:!1},{kind:"StringValue",value:"pg_temp_1",block:!1},{kind:"StringValue",value:"pg_toast_temp_1",block:!1},{kind:"StringValue",value:"pg_catalog",block:!1},{kind:"StringValue",value:"information_schema",block:!1},{kind:"StringValue",value:"public",block:!1}]}}]}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schemaName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schemaTables"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"policies"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schemaName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"policyName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cmd"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"withCheck"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"qual"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"roleTableGrants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"grantor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"grantee"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"privilegeType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isGrantable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"withHierarchy"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"schemaFunctions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"name"},name:{kind:"Name",value:"functionName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"functionSchema"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:819}};n.loc.source={body:'query {\n  allSchemata\n  (\n    filter: {\n      schemaName: {\n        notIn: [\n          "pg_toast",\n          "pg_temp_1",\n          "pg_toast_temp_1",\n          "pg_catalog",\n          "information_schema",\n          "public"\n        ]\n      }\n    }\n  ) \n  {\n    nodes {\n      id\n      schemaName\n      schemaTables {\n        id\n        tableName\n        tableSchema\n        policies {\n          tableName\n          schemaName\n          policyName\n          roles\n          cmd\n          withCheck\n          qual\n        }\n        roleTableGrants {\n          grantor\n          grantee\n          tableName\n          tableSchema\n          privilegeType\n          isGrantable\n          withHierarchy\n        }\n      }\n      schemaFunctions {\n        id\n        name: functionName\n        functionSchema\n      }\n    }\n  }\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};function a(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(e){a(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){a(e,t)}),e.definitions&&e.definitions.forEach(function(e){a(e,t)})}var i={};(function(){n.definitions.forEach(function(e){if(e.name){var t=new Set;a(e,t),i[e.name.value]=t}})})(),e.exports=n}});
//# sourceMappingURL=app.fed4879f.js.map